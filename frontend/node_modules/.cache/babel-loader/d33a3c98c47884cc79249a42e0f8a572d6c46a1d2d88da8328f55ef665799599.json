{"ast":null,"code":"import{useState,useEffect,useCallback,useRef}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[currentPhase,setCurrentPhase]=useState(1);const[pincode,setPincode]=useState('');const[condition,setCondition]=useState('');const[isEmergency,setIsEmergency]=useState(false);const[recommendations,setRecommendations]=useState([]);const[loading,setLoading]=useState(false);const[map,setMap]=useState(null);const[markers,setMarkers]=useState([]);const markersRef=useRef([]);const[sidebarOpen,setSidebarOpen]=useState(false);// Filter states\nconst[showSarkari,setShowSarkari]=useState(true);const[showPrivate,setShowPrivate]=useState(true);const[showAyush,setShowAyush]=useState(true);// Filter hospitals based on checkbox states\nconst getFilteredHospitals=useCallback(()=>{return recommendations.filter(hospital=>{var _hospital$category,_hospital$category2;const isGovernment=hospital.isGovernment||((_hospital$category=hospital.category)===null||_hospital$category===void 0?void 0:_hospital$category.toLowerCase().includes('government'));const isAyush=(_hospital$category2=hospital.category)===null||_hospital$category2===void 0?void 0:_hospital$category2.toLowerCase().includes('ayush');const isPrivate=!isGovernment&&!isAyush;if(isGovernment&&!showSarkari)return false;if(isPrivate&&!showPrivate)return false;if(isAyush&&!showAyush)return false;return true;});},[recommendations,showSarkari,showPrivate,showAyush]);// Update map markers when filters change\n// eslint-disable-next-line react-hooks/exhaustive-deps\nuseEffect(()=>{if(map&&currentPhase===2&&recommendations.length>0){// Clear existing markers\nmarkersRef.current.forEach(marker=>map.removeLayer(marker));// Add filtered markers\nconst filteredHospitals=getFilteredHospitals();const newMarkers=[];filteredHospitals.forEach((hospital,index)=>{var _hospital$category3,_hospital$category4;// Use actual coordinates if available\nlet lat,lng;if(hospital.latitude&&hospital.longitude){lat=parseFloat(hospital.latitude);lng=parseFloat(hospital.longitude);}else{// If no coordinates, place near center of India with small random offset\nlat=20.5937+(Math.random()-0.5)*0.02;lng=78.9629+(Math.random()-0.5)*0.02;}// Determine marker style based on hospital type\nconst isGovernment=hospital.isGovernment||((_hospital$category3=hospital.category)===null||_hospital$category3===void 0?void 0:_hospital$category3.toLowerCase().includes('government'));const isAyush=(_hospital$category4=hospital.category)===null||_hospital$category4===void 0?void 0:_hospital$category4.toLowerCase().includes('ayush');let markerColor='#ef4444';// Red for private\nlet markerIcon='local_hospital';if(isGovernment){markerColor='#2563eb';// Blue for government\n}else if(isAyush){markerColor='#10b981';// Green for AYUSH\nmarkerIcon='spa';}// Create custom HTML marker\nconst markerHtml=\"\\n          <div class=\\\"relative flex flex-col items-center\\\">\\n            <div class=\\\"size-10 rounded-full border-2 border-white shadow-lg flex items-center justify-center text-white transform hover:scale-110 transition-transform cursor-pointer\\\" style=\\\"background-color: \".concat(markerColor,\"\\\">\\n              <span class=\\\"material-symbols-outlined text-[20px]\\\">\").concat(markerIcon,\"</span>\\n            </div>\\n            <div class=\\\"absolute -z-10 size-10 rounded-full animate-ping opacity-30\\\" style=\\\"background-color: \").concat(markerColor,\"\\\"></div>\\n          </div>\\n        \");// Create marker\nconst marker=window.L.marker([lat,lng],{icon:window.L.divIcon({html:markerHtml,className:'custom-hospital-marker',iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]})}).addTo(map);// Create popup content\nconst bedCount=Math.floor(Math.random()*150)+15;const distance=hospital.distance||\"\".concat((Math.random()*5+0.5).toFixed(1),\" km\");const hospitalType=isGovernment?'Sarkari':isAyush?'AYUSH':'Private';const popupContent=\"\\n          <div class=\\\"p-3 min-w-[200px]\\\">\\n            <h3 class=\\\"font-bold text-slate-900 text-sm mb-2\\\">\".concat(hospital.name,\"</h3>\\n            <div class=\\\"space-y-1 text-xs\\\">\\n              <div class=\\\"flex items-center gap-2\\\">\\n                <span class=\\\"inline-block w-2 h-2 rounded-full\\\" style=\\\"background-color: \").concat(markerColor,\"\\\"></span>\\n                <span class=\\\"font-semibold\\\" style=\\\"color: \").concat(markerColor,\"\\\">\").concat(hospitalType,\"</span>\\n              </div>\\n              <div class=\\\"flex items-center gap-2 text-slate-600\\\">\\n                <span class=\\\"material-symbols-outlined text-[14px]\\\">location_on</span>\\n                <span>\").concat(hospital.address,\"</span>\\n              </div>\\n              \").concat(hospital.phone?\"\\n                <div class=\\\"flex items-center gap-2 text-slate-600\\\">\\n                  <span class=\\\"material-symbols-outlined text-[14px]\\\">call</span>\\n                  <a href=\\\"tel:\".concat(hospital.phone,\"\\\" class=\\\"text-blue-600 hover:text-blue-800\\\">\").concat(hospital.phone,\"</a>\\n                </div>\\n              \"):'',\"\\n              <div class=\\\"flex items-center gap-2 text-slate-600\\\">\\n                <span class=\\\"material-symbols-outlined text-[14px]\\\">bed</span>\\n                <span>\").concat(bedCount,\" beds available</span>\\n              </div>\\n              <div class=\\\"flex items-center gap-2 text-slate-600\\\">\\n                <span class=\\\"material-symbols-outlined text-[14px]\\\">route</span>\\n                <span>\").concat(distance,\"</span>\\n              </div>\\n            </div>\\n            \").concat(hospital.phone?\"\\n              <div class=\\\"mt-3 pt-2 border-t border-slate-200\\\">\\n                <button onclick=\\\"navigator.clipboard.writeText('\".concat(hospital.phone,\"').then(() => alert('\\uD83D\\uDCDE Phone number \").concat(hospital.phone,\" copied to clipboard!\\\\n\\\\nYou can now call \").concat(hospital.name,\"'))\\\" class=\\\"w-full px-3 py-2 bg-primary hover:bg-primary-dark text-white text-sm font-medium rounded transition-colors flex items-center justify-center gap-2\\\">\\n                  <span class=\\\"material-symbols-outlined text-[16px]\\\">call</span>\\n                  Call Hospital\\n                </button>\\n              </div>\\n            \"):'',\"\\n          </div>\\n        \");marker.bindPopup(popupContent,{maxWidth:300,className:'custom-popup'});// Add click handler to highlight corresponding list item\nmarker.on('click',()=>{highlightHospitalCard(index);setSidebarOpen(false);});newMarkers.push(marker);});setMarkers(newMarkers);markersRef.current=newMarkers;// Fit map to show all markers if we have multiple\nif(newMarkers.length>1){const group=new window.L.featureGroup(newMarkers);map.fitBounds(group.getBounds().pad(0.1));}}},[showSarkari,showPrivate,showAyush,map,recommendations,currentPhase,pincode,getFilteredHospitals]);// Handle form submission\nconst handleSearch=async e=>{if(e)e.preventDefault();if(!pincode||pincode.length!==6){alert('Please enter a valid 6-digit pincode');return;}if(!condition.trim()){alert('Please describe your medical condition');return;}setLoading(true);setRecommendations([]);// Clear previous results\ntry{let endpoint='/api/hospitals/recommend';const params=new URLSearchParams({condition:condition,pincode:pincode,// Add timestamp to prevent caching\n_t:Date.now()});if(isEmergency){endpoint='/api/hospitals/emergency';}const response=await axios.get(\"\".concat(endpoint,\"?\").concat(params),{// Disable axios caching\nheaders:{'Cache-Control':'no-cache','Pragma':'no-cache'}});let hospitals=[];if(isEmergency){hospitals=response.data.nearestHospitals||[];}else{hospitals=response.data.recommendations||[];}setRecommendations(hospitals);if(hospitals.length>0){setCurrentPhase(2);// Initialize map after phase transition\nsetTimeout(()=>{initializeMap(hospitals);},100);}else{// Handle no hospitals found case\nconst message=response.data.message||'No hospitals found for this pincode. Please try a nearby pincode.';alert(message);}}catch(error){var _error$response,_error$response$data;console.error('Error searching hospitals:',error);const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Unable to find hospitals. Please check your connection and try again.';alert(errorMessage);}finally{setLoading(false);}};const handlePincodeChange=e=>{const value=e.target.value.replace(/[^0-9]/g,'').slice(0,6);setPincode(value);};const handleConditionChange=e=>{setCondition(e.target.value);};const handleEmergencyToggle=e=>{setIsEmergency(e.target.checked);};const handleHospitalCardClick=index=>{if(markers[index]){// Open the marker popup\nmarkers[index].openPopup();// Center map on selected marker\nif(map&&markers[index]){map.setView(markers[index].getLatLng(),15);}// Close mobile sidebar\nsetSidebarOpen(false);}};const handleBackToPhase1=()=>{setCurrentPhase(1);if(map){map.remove();setMap(null);}setMarkers([]);markersRef.current=[];// Clear previous results to ensure fresh search\nsetRecommendations([]);setLoading(false);};const handleSymptomTagClick=symptom=>{setCondition(symptom);};// Filter functions\nconst handleSarkariFilter=e=>{setShowSarkari(e.target.checked);};const handlePrivateFilter=e=>{setShowPrivate(e.target.checked);};const handleAyushFilter=e=>{setShowAyush(e.target.checked);};// Clipboard functionality\nconst copyToClipboard=async(text,hospitalName)=>{try{await navigator.clipboard.writeText(text);alert(\"\\uD83D\\uDCDE Phone number \".concat(text,\" copied to clipboard!\\n\\nYou can now call \").concat(hospitalName));}catch(err){// Fallback for older browsers\nconst textArea=document.createElement('textarea');textArea.value=text;document.body.appendChild(textArea);textArea.select();document.execCommand('copy');document.body.removeChild(textArea);alert(\"\\uD83D\\uDCDE Phone number \".concat(text,\" copied to clipboard!\\n\\nYou can now call \").concat(hospitalName));}};const initializeMap=hospitals=>{if(!window.L)return;const mapContainer=document.getElementById('care-map');if(!mapContainer)return;// Clear existing map if any\nif(map){map.remove();setMap(null);}// Determine center point from actual hospital coordinates\nlet centerLat=20.5937;// Default to center of India\nlet centerLng=78.9629;// If hospitals have coordinates, calculate center from actual hospital locations\nconst hospitalsWithCoords=hospitals.filter(h=>h.latitude&&h.longitude);if(hospitalsWithCoords.length>0){const avgLat=hospitalsWithCoords.reduce((sum,h)=>sum+parseFloat(h.latitude),0)/hospitalsWithCoords.length;const avgLng=hospitalsWithCoords.reduce((sum,h)=>sum+parseFloat(h.longitude),0)/hospitalsWithCoords.length;centerLat=avgLat;centerLng=avgLng;console.log(\"Map centered on actual hospital coordinates: \".concat(centerLat,\", \").concat(centerLng));}else{console.log(\"No hospital coordinates available, using default center of India\");}// Initialize Leaflet map with OSM tiles\nconst newMap=window.L.map('care-map',{center:[centerLat,centerLng],zoom:hospitalsWithCoords.length>0?12:6,// Zoom in if we have specific locations\nzoomControl:false,// We'll use custom controls\nattributionControl:true});// Add Carto Positron tiles (clean, bright style)\nwindow.L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',{attribution:'Â© <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors Â© <a href=\"https://carto.com/attributions\">CARTO</a>',maxZoom:19,className:'map-tiles'}).addTo(newMap);// Add hospital markers\nconst newMarkers=[];const filteredHospitals=getFilteredHospitals();filteredHospitals.forEach((hospital,index)=>{var _hospital$category5,_hospital$category6;// Use actual coordinates if available, otherwise skip this hospital\nlet lat,lng;if(hospital.latitude&&hospital.longitude){lat=parseFloat(hospital.latitude);lng=parseFloat(hospital.longitude);}else{// If no coordinates, place near the center with small random offset\nlat=centerLat+(Math.random()-0.5)*0.02;lng=centerLng+(Math.random()-0.5)*0.02;}// Determine marker style based on hospital type\nconst isGovernment=hospital.isGovernment||((_hospital$category5=hospital.category)===null||_hospital$category5===void 0?void 0:_hospital$category5.toLowerCase().includes('government'));const isAyush=(_hospital$category6=hospital.category)===null||_hospital$category6===void 0?void 0:_hospital$category6.toLowerCase().includes('ayush');let markerColor='#ef4444';// Red for private\nlet markerIcon='local_hospital';if(isGovernment){markerColor='#2563eb';// Blue for government\n}else if(isAyush){markerColor='#10b981';// Green for AYUSH\nmarkerIcon='spa';}// Create custom HTML marker\nconst markerHtml=\"\\n        <div class=\\\"relative flex flex-col items-center\\\">\\n          <div class=\\\"size-10 rounded-full border-2 border-white shadow-lg flex items-center justify-center text-white transform hover:scale-110 transition-transform cursor-pointer\\\" style=\\\"background-color: \".concat(markerColor,\"\\\">\\n            <span class=\\\"material-symbols-outlined text-[20px]\\\">\").concat(markerIcon,\"</span>\\n          </div>\\n          <div class=\\\"absolute -z-10 size-10 rounded-full animate-ping opacity-30\\\" style=\\\"background-color: \").concat(markerColor,\"\\\"></div>\\n        </div>\\n      \");// Create marker\nconst marker=window.L.marker([lat,lng],{icon:window.L.divIcon({html:markerHtml,className:'custom-hospital-marker',iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]})}).addTo(newMap);// Create popup content\nconst bedCount=Math.floor(Math.random()*150)+15;const distance=hospital.distance||\"\".concat((Math.random()*5+0.5).toFixed(1),\" km\");const hospitalType=isGovernment?'Sarkari':isAyush?'AYUSH':'Private';const popupContent=\"\\n        <div class=\\\"p-3 min-w-[200px]\\\">\\n          <h3 class=\\\"font-bold text-slate-900 text-sm mb-2\\\">\".concat(hospital.name,\"</h3>\\n          <div class=\\\"space-y-1 text-xs\\\">\\n            <div class=\\\"flex items-center gap-2\\\">\\n              <span class=\\\"inline-block w-2 h-2 rounded-full\\\" style=\\\"background-color: \").concat(markerColor,\"\\\"></span>\\n              <span class=\\\"font-semibold\\\" style=\\\"color: \").concat(markerColor,\"\\\">\").concat(hospitalType,\"</span>\\n            </div>\\n            <div class=\\\"flex items-center gap-2 text-slate-600\\\">\\n              <span class=\\\"material-symbols-outlined text-[14px]\\\">location_on</span>\\n              <span>\").concat(hospital.address,\"</span>\\n            </div>\\n            \").concat(hospital.phone?\"\\n              <div class=\\\"flex items-center gap-2 text-slate-600\\\">\\n                <span class=\\\"material-symbols-outlined text-[14px]\\\">call</span>\\n                <a href=\\\"tel:\".concat(hospital.phone,\"\\\" class=\\\"text-blue-600 hover:text-blue-800\\\">\").concat(hospital.phone,\"</a>\\n              </div>\\n            \"):'',\"\\n            <div class=\\\"flex items-center gap-2 text-slate-600\\\">\\n              <span class=\\\"material-symbols-outlined text-[14px]\\\">bed</span>\\n              <span>\").concat(bedCount,\" beds available</span>\\n            </div>\\n            <div class=\\\"flex items-center gap-2 text-slate-600\\\">\\n              <span class=\\\"material-symbols-outlined text-[14px]\\\">route</span>\\n              <span>\").concat(distance,\"</span>\\n            </div>\\n          </div>\\n          <div class=\\\"mt-3 pt-2 border-t border-slate-200\\\">\\n            <button onclick=\\\"window.open('tel:\").concat(hospital.phone,\"', '_self')\\\" class=\\\"w-full px-3 py-2 bg-primary hover:bg-primary-dark text-white text-sm font-medium rounded transition-colors flex items-center justify-center gap-2\\\">\\n              <span class=\\\"material-symbols-outlined text-[16px]\\\">call</span>\\n              Call Hospital\\n            </button>\\n          </div>\\n        </div>\\n      \");marker.bindPopup(popupContent,{maxWidth:300,className:'custom-popup'});// Add click handler to highlight corresponding list item\nmarker.on('click',()=>{highlightHospitalCard(index);// Close mobile sidebar when marker is clicked\nsetSidebarOpen(false);});newMarkers.push(marker);});setMap(newMap);setMarkers(newMarkers);markersRef.current=newMarkers;// Fit map to show all markers if we have multiple\nif(newMarkers.length>1){const group=new window.L.featureGroup(newMarkers);newMap.fitBounds(group.getBounds().pad(0.1));}// Add user location if geolocation is available\nnewMap.on('locationfound',function(e){const userMarker=window.L.circleMarker(e.latlng,{radius:8,fillColor:'#3b82f6',color:'#ffffff',weight:2,opacity:1,fillOpacity:0.8}).addTo(newMap);userMarker.bindPopup('Your location').openPopup();});newMap.on('locationerror',function(e){console.log('Location access denied or unavailable');});};const highlightHospitalCard=index=>{// Remove previous highlights\ndocument.querySelectorAll('.hospital-card').forEach(card=>{card.classList.remove('ring-2','ring-primary');});// Highlight selected card\nconst card=document.querySelector(\"[data-hospital-index=\\\"\".concat(index,\"\\\"]\"));if(card){card.classList.add('ring-2','ring-primary');card.scrollIntoView({behavior:'smooth',block:'center'});}};// Render Phase 1 or Phase 2 based on current phase\nif(currentPhase===1){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col min-h-screen\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 z-50 w-full border-b border-slate-200 dark:border-slate-800 bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 md:px-10 h-16 flex items-center justify-between max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 text-slate-900 dark:text-white hover:opacity-80 transition-opacity cursor-pointer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-8 rounded-lg bg-primary flex items-center justify-center text-white shadow-md shadow-primary/20\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[20px]\",children:\"local_hospital\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold leading-tight tracking-tight hidden sm:block\",children:\"What's Up Doc\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsEmergency(true),className:\"flex items-center justify-center overflow-hidden rounded-lg h-9 px-4 bg-accent hover:bg-accent-dark text-white text-sm font-bold shadow-sm transition-colors ring-offset-2 focus:ring-2 ring-accent\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[18px] mr-2\",children:\"sos\"}),/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",children:\"Emergency SOS\"})]})})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-grow flex flex-col items-center justify-center px-4 py-12 md:py-20 relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{\"aria-hidden\":\"true\",className:\"absolute top-0 left-0 w-full h-full overflow-hidden -z-10 opacity-30 pointer-events-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[100px]\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-[-10%] right-[20%] w-[400px] h-[400px] bg-accent/20 rounded-full blur-[100px]\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-3xl flex flex-col items-center text-center space-y-8 z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400 text-xs font-semibold tracking-wide\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[14px]\",children:\"lock\"}),\"100% Anonymous & Private\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl md:text-5xl lg:text-[54px] font-bold text-slate-900 dark:text-white tracking-tight leading-[1.1]\",children:[\"Healthcare, \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:\"right where you are.\"})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"w-full max-w-lg space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -inset-1 bg-gradient-to-r from-primary to-accent rounded-2xl blur opacity-25 group-hover:opacity-40 transition duration-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{value:pincode,onChange:handlePincodeChange,className:\"w-full h-24 bg-surface-light dark:bg-surface-dark rounded-2xl border-2 border-slate-200 dark:border-slate-700 text-center text-5xl font-black tracking-[0.5em] text-slate-900 dark:text-white placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-4 focus:ring-primary/10 shadow-xl transition-all duration-300\",inputMode:\"numeric\",maxLength:\"6\",pattern:\"[0-9]*\",placeholder:\"______\",type:\"text\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-3xl\",children:\"location_on\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-sm text-slate-500 dark:text-slate-400 font-semibold\",children:\"Enter 6-digit Pincode\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between rounded-2xl p-5 border border-transparent transition-colors duration-300 \".concat(isEmergency?'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800':'bg-slate-50 dark:bg-slate-800/50'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-left space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-base font-bold text-slate-900 dark:text-white\",children:\"Current Emergency?\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 dark:text-slate-400 transition-all duration-300\",children:isEmergency?'Emergency Mode: Showing 24/7 trauma centers only.':'Show routine care & clinics.'})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"relative inline-flex cursor-pointer items-center self-start sm:self-center\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"peer sr-only\",type:\"checkbox\",checked:isEmergency,onChange:handleEmergencyToggle}),/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-14 rounded-full bg-slate-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent/20 dark:bg-slate-600 peer-checked:bg-accent transition-colors duration-300\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-1 top-1 h-6 w-6 rounded-full bg-white transition-all duration-300 peer-checked:translate-x-full shadow-sm\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full relative group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -inset-1 bg-gradient-to-r from-primary to-accent rounded-xl blur opacity-25 group-hover:opacity-40 transition duration-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 flex items-center p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pl-4 pr-3 text-slate-400\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[28px]\",children:\"search\"})}),/*#__PURE__*/_jsx(\"input\",{value:condition,onChange:handleConditionChange,className:\"w-full h-14 bg-transparent border-none outline-none focus:ring-0 text-lg text-slate-900 dark:text-white placeholder:text-slate-400\",placeholder:\"Try 'Child has fever' or 'Heart checkup'...\",type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"hidden sm:flex h-12 bg-primary hover:bg-primary-dark text-white font-medium rounded-lg px-6 items-center justify-center transition-colors shadow-lg shadow-primary/20 disabled:opacity-50\",children:loading?'Searching...':'Search'})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"sm:hidden w-full h-12 bg-primary hover:bg-primary-dark text-white font-medium rounded-lg flex items-center justify-center shadow-lg transition-colors disabled:opacity-50\",children:loading?'Searching...':'Search'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-slate-500 dark:text-slate-400 text-lg leading-relaxed max-w-xl mx-auto\",children:[\"Type your symptoms in plain English or Hinglish. We map your keywords to the correct \",/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-700 dark:text-slate-200 font-medium\",children:\"Specialty\"}),\" or \",/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-700 dark:text-slate-200 font-medium\",children:\"System of Medicine\"}),\".\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center gap-3 pt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-500 dark:text-slate-400 font-medium\",children:\"Common searches:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap justify-center gap-2\",children:[{symptom:'fever',emoji:'ðŸ¤’',label:'Fever'},{symptom:'skin rash',emoji:'ðŸ¦ ',label:'Skin Rash'},{symptom:'child checkup',emoji:'ðŸ‘¶',label:'Pediatrician'},{symptom:'toothache',emoji:'ðŸ¦·',label:'Toothache'},{symptom:'ayurveda',emoji:'ðŸ§˜',label:'Ayurveda'}].map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSymptomTagClick(item.symptom),className:\"group px-4 py-2 rounded-full text-sm font-medium bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:border-primary hover:text-primary dark:hover:border-primary dark:hover:text-primary hover:bg-primary/5 transition-all duration-200 transform hover:scale-105\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"group-hover:animate-bounce inline-block mr-1\",children:item.emoji}),item.label]},item.symptom))})]})]})]})]});}// Phase 2 - Results with enhanced design\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-screen overflow-hidden\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 z-50 w-full border-b border-slate-200 dark:border-slate-800 bg-surface-light dark:bg-surface-dark shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 h-16 flex items-center justify-between mx-auto w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleBackToPhase1,className:\"flex items-center gap-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"arrow_back\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline text-sm font-medium\",children:\"Back\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(!sidebarOpen),className:\"md:hidden flex items-center gap-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"menu\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-9 rounded-lg bg-primary flex items-center justify-center text-white shadow-md shadow-primary/20 shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[20px]\",children:\"local_hospital\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold leading-none tracking-tight hidden sm:block\",children:\"What's Up Doc\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-slate-500 font-medium tracking-wide\",children:\"Care-Map Discovery\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex flex-1 max-w-xl mx-8 relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-slate-400 text-[16px]\",children:\"search\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-slate-600 dark:text-slate-400\",children:[\"Searching for: \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-slate-900 dark:text-white\",children:[\"\\\"\",condition,\"\\\"\"]}),isEmergency&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-bold rounded\",children:\"Emergency Mode\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:flex items-center gap-1 text-xs font-semibold px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"size-2 rounded-full bg-green-500 animate-pulse\"}),\"Live Capacity\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsEmergency(true),className:\"flex items-center justify-center overflow-hidden rounded-lg h-9 px-4 bg-accent hover:bg-accent-dark text-white text-sm font-bold shadow-sm transition-colors ring-offset-2 focus:ring-2 ring-accent\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[18px] mr-2\",children:\"sos\"}),/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",children:\"SOS\"})]})]})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex flex-1 overflow-hidden relative w-full\",children:[sidebarOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-10 md:hidden\",onClick:()=>setSidebarOpen(false)}),/*#__PURE__*/_jsxs(\"aside\",{className:\"w-full md:w-[450px] bg-white dark:bg-surface-dark border-r border-slate-200 dark:border-slate-800 flex flex-col z-20 absolute md:relative h-full transition-transform duration-300 shadow-2xl md:shadow-none \".concat(sidebarOpen?'transform translate-x-0':'transform -translate-x-full md:translate-x-0'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-4 border-b border-slate-100 dark:border-slate-800 space-y-4 bg-surface-light dark:bg-surface-dark z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold text-slate-800 dark:text-white\",children:[getFilteredHospitals().length,\" Results found\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-xs font-medium text-slate-500 cursor-pointer hover:text-primary\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[16px]\",children:\"sort\"}),\"Sort by Distance\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center cursor-pointer select-none px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-blue-400 transition-colors\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-checkbox text-blue-600 rounded size-4 mr-2 border-slate-300 focus:ring-blue-500\",type:\"checkbox\",checked:showSarkari,onChange:handleSarkariFilter}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-semibold text-slate-700 dark:text-slate-300\",children:\"Sarkari (Govt)\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center cursor-pointer select-none px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-red-400 transition-colors\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-checkbox text-red-600 rounded size-4 mr-2 border-slate-300 focus:ring-red-500\",type:\"checkbox\",checked:showPrivate,onChange:handlePrivateFilter}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-semibold text-slate-700 dark:text-slate-300\",children:\"Private\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center cursor-pointer select-none px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-green-400 transition-colors\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-checkbox text-green-600 rounded size-4 mr-2 border-slate-300 focus:ring-green-500\",type:\"checkbox\",checked:showAyush,onChange:handleAyushFilter}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-semibold text-slate-700 dark:text-slate-300\",children:\"AYUSH\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 pt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-slate-400\",children:\"Showing:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 px-2 py-0.5 rounded text-[10px] font-bold bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[12px]\",children:\"check_circle\"}),\" Verified\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 px-2 py-0.5 rounded text-[10px] font-bold bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-400\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[12px]\",children:\"bed\"}),\" Beds Available\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-3 space-y-3 bg-slate-50 dark:bg-[#0d141c]\",children:[getFilteredHospitals().map((hospital,index)=>{var _hospital$category7,_hospital$category8;const isGovernment=hospital.isGovernment||((_hospital$category7=hospital.category)===null||_hospital$category7===void 0?void 0:_hospital$category7.toLowerCase().includes('government'));const isAyush=(_hospital$category8=hospital.category)===null||_hospital$category8===void 0?void 0:_hospital$category8.toLowerCase().includes('ayush');const hospitalType=isGovernment?'govt':isAyush?'ayush':'private';const hospitalTypeColor=isGovernment?'text-blue-600':isAyush?'text-green-600':'text-red-600';const hospitalTypeBg=isGovernment?'bg-blue-500':isAyush?'bg-green-500':'bg-red-500';const hospitalTypeLabel=isGovernment?'Sarkari':isAyush?'AYUSH':'Private';const bedCount=Math.floor(Math.random()*150)+15;// Mock bed count\nconst distance=hospital.distance||\"\".concat((Math.random()*5+0.5).toFixed(1),\" km away\");return/*#__PURE__*/_jsxs(\"div\",{className:\"hospital-card group relative bg-white dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-\".concat(hospitalType,\"/50 transition-all cursor-pointer \").concat(isAyush?'ring-1 ring-green-500/10 bg-gradient-to-br from-white to-green-50/50 dark:from-surface-dark dark:to-green-900/10':''),\"data-hospital-index\":index,onClick:()=>handleHospitalCardClick(index),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 right-4 flex flex-col items-end gap-1\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded text-xs font-bold border \".concat(bedCount>50?'bg-green-50 text-green-700 border-green-100 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400':'bg-orange-50 text-orange-700 border-orange-100 dark:bg-orange-900/20 dark:border-orange-800 dark:text-orange-400'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[14px] mr-1\",children:\"bed\"}),\"Beds: \",bedCount]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] text-slate-400\",children:distance})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pr-20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold text-slate-900 dark:text-white text-base\",children:hospital.name}),/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-blue-500 text-[18px]\",title:\"Verified Accreditation\",children:\"verified\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"size-2 rounded-full \".concat(hospitalTypeBg)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-semibold \".concat(hospitalTypeColor,\" uppercase tracking-wider\"),children:hospitalTypeLabel}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-300 dark:text-slate-600\",children:\"|\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-slate-500\",children:hospital.specialties&&hospital.specialties.length>0?hospital.specialties.slice(0,3).map(s=>s.trim().split(' ')[0]).join(', '):'General, Emergency'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 dark:text-slate-400 line-clamp-1 mb-3\",children:hospital.address}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:hospital.phone?/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();copyToClipboard(hospital.phone,hospital.name);},className:\"w-full h-8 rounded-md bg-primary hover:bg-primary-dark text-white text-xs font-semibold transition-colors flex items-center justify-center gap-1 shadow-sm shadow-primary/20\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[16px]\",children:\"call\"}),\" Call Hospital\"]}):/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-8 rounded-md bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 text-xs font-semibold flex items-center justify-center gap-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-[16px]\",children:\"phone_disabled\"}),\" No Phone Available\"]})})]})]},index);}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-400\",children:\"End of results near you\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-white dark:bg-surface-dark border-t border-slate-200 dark:border-slate-800 flex justify-center items-center text-[10px] text-slate-400\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\xA9 What's Up Doc\"})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"flex-1 relative overflow-hidden z-0\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"care-map\",className:\"w-full h-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 right-4 flex flex-col gap-2 z-[1000]\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(map){map.locate({setView:true,maxZoom:16});}},className:\"size-10 rounded-lg bg-white dark:bg-surface-dark shadow-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-700 dark:text-slate-200 hover:text-primary transition-colors\",title:\"Find My Location\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"my_location\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(map){map.zoomIn();}},className:\"size-10 rounded-lg bg-white dark:bg-surface-dark shadow-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-700 dark:text-slate-200 hover:text-primary transition-colors\",title:\"Zoom In\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"add\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(map){map.zoomOut();}},className:\"size-10 rounded-lg bg-white dark:bg-surface-dark shadow-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-700 dark:text-slate-200 hover:text-primary transition-colors\",title:\"Zoom Out\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"remove\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-4 z-[1000]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-surface-dark rounded-lg shadow-lg p-3 border border-slate-200 dark:border-slate-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-slate-900 dark:text-white mb-2\",children:\"Hospital Types\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full bg-red-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-600 dark:text-slate-400\",children:\"Private/Multi-specialty\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full bg-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-600 dark:text-slate-400\",children:\"Government/Sarkari\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full bg-green-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-600 dark:text-slate-400\",children:\"AYUSH (Ayurveda/Homeopathy)\"})]})]})]})})]})]})]});}export default App;","map":{"version":3,"names":["useState","useEffect","useCallback","useRef","axios","jsx","_jsx","jsxs","_jsxs","App","currentPhase","setCurrentPhase","pincode","setPincode","condition","setCondition","isEmergency","setIsEmergency","recommendations","setRecommendations","loading","setLoading","map","setMap","markers","setMarkers","markersRef","sidebarOpen","setSidebarOpen","showSarkari","setShowSarkari","showPrivate","setShowPrivate","showAyush","setShowAyush","getFilteredHospitals","filter","hospital","_hospital$category","_hospital$category2","isGovernment","category","toLowerCase","includes","isAyush","isPrivate","length","current","forEach","marker","removeLayer","filteredHospitals","newMarkers","index","_hospital$category3","_hospital$category4","lat","lng","latitude","longitude","parseFloat","Math","random","markerColor","markerIcon","markerHtml","concat","window","L","icon","divIcon","html","className","iconSize","iconAnchor","popupAnchor","addTo","bedCount","floor","distance","toFixed","hospitalType","popupContent","name","address","phone","bindPopup","maxWidth","on","highlightHospitalCard","push","group","featureGroup","fitBounds","getBounds","pad","handleSearch","e","preventDefault","alert","trim","endpoint","params","URLSearchParams","_t","Date","now","response","get","headers","hospitals","data","nearestHospitals","setTimeout","initializeMap","message","error","_error$response","_error$response$data","console","errorMessage","handlePincodeChange","value","target","replace","slice","handleConditionChange","handleEmergencyToggle","checked","handleHospitalCardClick","openPopup","setView","getLatLng","handleBackToPhase1","remove","handleSymptomTagClick","symptom","handleSarkariFilter","handlePrivateFilter","handleAyushFilter","copyToClipboard","text","hospitalName","navigator","clipboard","writeText","err","textArea","document","createElement","body","appendChild","select","execCommand","removeChild","mapContainer","getElementById","centerLat","centerLng","hospitalsWithCoords","h","avgLat","reduce","sum","avgLng","log","newMap","center","zoom","zoomControl","attributionControl","tileLayer","attribution","maxZoom","_hospital$category5","_hospital$category6","userMarker","circleMarker","latlng","radius","fillColor","color","weight","opacity","fillOpacity","querySelectorAll","card","classList","querySelector","add","scrollIntoView","behavior","block","children","onClick","onSubmit","onChange","inputMode","maxLength","pattern","placeholder","type","disabled","emoji","label","item","_hospital$category7","_hospital$category8","hospitalTypeColor","hospitalTypeBg","hospitalTypeLabel","title","specialties","s","split","join","stopPropagation","id","locate","zoomIn","zoomOut"],"sources":["/Users/sonalgan/health-care/frontend/src/App.js"],"sourcesContent":["import { useState, useEffect, useCallback, useRef } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [currentPhase, setCurrentPhase] = useState(1);\n  const [pincode, setPincode] = useState('');\n  const [condition, setCondition] = useState('');\n  const [isEmergency, setIsEmergency] = useState(false);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [map, setMap] = useState(null);\n  const [markers, setMarkers] = useState([]);\n  const markersRef = useRef([]);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  \n  // Filter states\n  const [showSarkari, setShowSarkari] = useState(true);\n  const [showPrivate, setShowPrivate] = useState(true);\n  const [showAyush, setShowAyush] = useState(true);\n\n  // Filter hospitals based on checkbox states\n  const getFilteredHospitals = useCallback(() => {\n    return recommendations.filter(hospital => {\n      const isGovernment = hospital.isGovernment || hospital.category?.toLowerCase().includes('government');\n      const isAyush = hospital.category?.toLowerCase().includes('ayush');\n      const isPrivate = !isGovernment && !isAyush;\n\n      if (isGovernment && !showSarkari) return false;\n      if (isPrivate && !showPrivate) return false;\n      if (isAyush && !showAyush) return false;\n\n      return true;\n    });\n  }, [recommendations, showSarkari, showPrivate, showAyush]);\n\n  // Update map markers when filters change\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    if (map && currentPhase === 2 && recommendations.length > 0) {\n      // Clear existing markers\n      markersRef.current.forEach(marker => map.removeLayer(marker));\n      \n      // Add filtered markers\n      const filteredHospitals = getFilteredHospitals();\n      const newMarkers = [];\n      \n      filteredHospitals.forEach((hospital, index) => {\n        // Use actual coordinates if available\n        let lat, lng;\n        \n        if (hospital.latitude && hospital.longitude) {\n          lat = parseFloat(hospital.latitude);\n          lng = parseFloat(hospital.longitude);\n        } else {\n          // If no coordinates, place near center of India with small random offset\n          lat = 20.5937 + (Math.random() - 0.5) * 0.02;\n          lng = 78.9629 + (Math.random() - 0.5) * 0.02;\n        }\n\n        // Determine marker style based on hospital type\n        const isGovernment = hospital.isGovernment || hospital.category?.toLowerCase().includes('government');\n        const isAyush = hospital.category?.toLowerCase().includes('ayush');\n        \n        let markerColor = '#ef4444'; // Red for private\n        let markerIcon = 'local_hospital';\n        \n        if (isGovernment) {\n          markerColor = '#2563eb'; // Blue for government\n        } else if (isAyush) {\n          markerColor = '#10b981'; // Green for AYUSH\n          markerIcon = 'spa';\n        }\n\n        // Create custom HTML marker\n        const markerHtml = `\n          <div class=\"relative flex flex-col items-center\">\n            <div class=\"size-10 rounded-full border-2 border-white shadow-lg flex items-center justify-center text-white transform hover:scale-110 transition-transform cursor-pointer\" style=\"background-color: ${markerColor}\">\n              <span class=\"material-symbols-outlined text-[20px]\">${markerIcon}</span>\n            </div>\n            <div class=\"absolute -z-10 size-10 rounded-full animate-ping opacity-30\" style=\"background-color: ${markerColor}\"></div>\n          </div>\n        `;\n\n        // Create marker\n        const marker = window.L.marker([lat, lng], {\n          icon: window.L.divIcon({\n            html: markerHtml,\n            className: 'custom-hospital-marker',\n            iconSize: [40, 40],\n            iconAnchor: [20, 40],\n            popupAnchor: [0, -40]\n          })\n        }).addTo(map);\n\n        // Create popup content\n        const bedCount = Math.floor(Math.random() * 150) + 15;\n        const distance = hospital.distance || `${(Math.random() * 5 + 0.5).toFixed(1)} km`;\n        const hospitalType = isGovernment ? 'Sarkari' : isAyush ? 'AYUSH' : 'Private';\n        \n        const popupContent = `\n          <div class=\"p-3 min-w-[200px]\">\n            <h3 class=\"font-bold text-slate-900 text-sm mb-2\">${hospital.name}</h3>\n            <div class=\"space-y-1 text-xs\">\n              <div class=\"flex items-center gap-2\">\n                <span class=\"inline-block w-2 h-2 rounded-full\" style=\"background-color: ${markerColor}\"></span>\n                <span class=\"font-semibold\" style=\"color: ${markerColor}\">${hospitalType}</span>\n              </div>\n              <div class=\"flex items-center gap-2 text-slate-600\">\n                <span class=\"material-symbols-outlined text-[14px]\">location_on</span>\n                <span>${hospital.address}</span>\n              </div>\n              ${hospital.phone ? `\n                <div class=\"flex items-center gap-2 text-slate-600\">\n                  <span class=\"material-symbols-outlined text-[14px]\">call</span>\n                  <a href=\"tel:${hospital.phone}\" class=\"text-blue-600 hover:text-blue-800\">${hospital.phone}</a>\n                </div>\n              ` : ''}\n              <div class=\"flex items-center gap-2 text-slate-600\">\n                <span class=\"material-symbols-outlined text-[14px]\">bed</span>\n                <span>${bedCount} beds available</span>\n              </div>\n              <div class=\"flex items-center gap-2 text-slate-600\">\n                <span class=\"material-symbols-outlined text-[14px]\">route</span>\n                <span>${distance}</span>\n              </div>\n            </div>\n            ${hospital.phone ? `\n              <div class=\"mt-3 pt-2 border-t border-slate-200\">\n                <button onclick=\"navigator.clipboard.writeText('${hospital.phone}').then(() => alert('ðŸ“ž Phone number ${hospital.phone} copied to clipboard!\\\\n\\\\nYou can now call ${hospital.name}'))\" class=\"w-full px-3 py-2 bg-primary hover:bg-primary-dark text-white text-sm font-medium rounded transition-colors flex items-center justify-center gap-2\">\n                  <span class=\"material-symbols-outlined text-[16px]\">call</span>\n                  Call Hospital\n                </button>\n              </div>\n            ` : ''}\n          </div>\n        `;\n        \n        marker.bindPopup(popupContent, {\n          maxWidth: 300,\n          className: 'custom-popup'\n        });\n\n        // Add click handler to highlight corresponding list item\n        marker.on('click', () => {\n          highlightHospitalCard(index);\n          setSidebarOpen(false);\n        });\n\n        newMarkers.push(marker);\n      });\n\n      setMarkers(newMarkers);\n      markersRef.current = newMarkers;\n\n      // Fit map to show all markers if we have multiple\n      if (newMarkers.length > 1) {\n        const group = new window.L.featureGroup(newMarkers);\n        map.fitBounds(group.getBounds().pad(0.1));\n      }\n    }\n  }, [showSarkari, showPrivate, showAyush, map, recommendations, currentPhase, pincode, getFilteredHospitals]);\n\n  // Handle form submission\n  const handleSearch = async (e) => {\n    if (e) e.preventDefault();\n    \n    if (!pincode || pincode.length !== 6) {\n      alert('Please enter a valid 6-digit pincode');\n      return;\n    }\n\n    if (!condition.trim()) {\n      alert('Please describe your medical condition');\n      return;\n    }\n\n    setLoading(true);\n    setRecommendations([]); // Clear previous results\n\n    try {\n      let endpoint = '/api/hospitals/recommend';\n      const params = new URLSearchParams({\n        condition: condition,\n        pincode: pincode,\n        // Add timestamp to prevent caching\n        _t: Date.now()\n      });\n\n      if (isEmergency) {\n        endpoint = '/api/hospitals/emergency';\n      }\n\n      const response = await axios.get(`${endpoint}?${params}`, {\n        // Disable axios caching\n        headers: {\n          'Cache-Control': 'no-cache',\n          'Pragma': 'no-cache'\n        }\n      });\n      \n      let hospitals = [];\n      if (isEmergency) {\n        hospitals = response.data.nearestHospitals || [];\n      } else {\n        hospitals = response.data.recommendations || [];\n      }\n\n      setRecommendations(hospitals);\n      \n      if (hospitals.length > 0) {\n        setCurrentPhase(2);\n        // Initialize map after phase transition\n        setTimeout(() => {\n          initializeMap(hospitals);\n        }, 100);\n      } else {\n        // Handle no hospitals found case\n        const message = response.data.message || 'No hospitals found for this pincode. Please try a nearby pincode.';\n        alert(message);\n      }\n\n    } catch (error) {\n      console.error('Error searching hospitals:', error);\n      const errorMessage = error.response?.data?.message || 'Unable to find hospitals. Please check your connection and try again.';\n      alert(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePincodeChange = (e) => {\n    const value = e.target.value.replace(/[^0-9]/g, '').slice(0, 6);\n    setPincode(value);\n  };\n\n  const handleConditionChange = (e) => {\n    setCondition(e.target.value);\n  };\n\n  const handleEmergencyToggle = (e) => {\n    setIsEmergency(e.target.checked);\n  };\n\n  const handleHospitalCardClick = (index) => {\n    if (markers[index]) {\n      // Open the marker popup\n      markers[index].openPopup();\n      \n      // Center map on selected marker\n      if (map && markers[index]) {\n        map.setView(markers[index].getLatLng(), 15);\n      }\n      \n      // Close mobile sidebar\n      setSidebarOpen(false);\n    }\n  };\n\n  const handleBackToPhase1 = () => {\n    setCurrentPhase(1);\n    if (map) {\n      map.remove();\n      setMap(null);\n    }\n    setMarkers([]);\n    markersRef.current = [];\n    // Clear previous results to ensure fresh search\n    setRecommendations([]);\n    setLoading(false);\n  };\n\n  const handleSymptomTagClick = (symptom) => {\n    setCondition(symptom);\n  };\n\n  // Filter functions\n  const handleSarkariFilter = (e) => {\n    setShowSarkari(e.target.checked);\n  };\n\n  const handlePrivateFilter = (e) => {\n    setShowPrivate(e.target.checked);\n  };\n\n  const handleAyushFilter = (e) => {\n    setShowAyush(e.target.checked);\n  };\n\n  // Clipboard functionality\n  const copyToClipboard = async (text, hospitalName) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      alert(`ðŸ“ž Phone number ${text} copied to clipboard!\\n\\nYou can now call ${hospitalName}`);\n    } catch (err) {\n      // Fallback for older browsers\n      const textArea = document.createElement('textarea');\n      textArea.value = text;\n      document.body.appendChild(textArea);\n      textArea.select();\n      document.execCommand('copy');\n      document.body.removeChild(textArea);\n      alert(`ðŸ“ž Phone number ${text} copied to clipboard!\\n\\nYou can now call ${hospitalName}`);\n    }\n  };\n\n  const initializeMap = (hospitals) => {\n    if (!window.L) return;\n\n    const mapContainer = document.getElementById('care-map');\n    if (!mapContainer) return;\n\n    // Clear existing map if any\n    if (map) {\n      map.remove();\n      setMap(null);\n    }\n\n    // Determine center point from actual hospital coordinates\n    let centerLat = 20.5937; // Default to center of India\n    let centerLng = 78.9629;\n    \n    // If hospitals have coordinates, calculate center from actual hospital locations\n    const hospitalsWithCoords = hospitals.filter(h => h.latitude && h.longitude);\n    if (hospitalsWithCoords.length > 0) {\n      const avgLat = hospitalsWithCoords.reduce((sum, h) => sum + parseFloat(h.latitude), 0) / hospitalsWithCoords.length;\n      const avgLng = hospitalsWithCoords.reduce((sum, h) => sum + parseFloat(h.longitude), 0) / hospitalsWithCoords.length;\n      centerLat = avgLat;\n      centerLng = avgLng;\n      console.log(`Map centered on actual hospital coordinates: ${centerLat}, ${centerLng}`);\n    } else {\n      console.log(`No hospital coordinates available, using default center of India`);\n    }\n\n    // Initialize Leaflet map with OSM tiles\n    const newMap = window.L.map('care-map', {\n      center: [centerLat, centerLng],\n      zoom: hospitalsWithCoords.length > 0 ? 12 : 6, // Zoom in if we have specific locations\n      zoomControl: false, // We'll use custom controls\n      attributionControl: true\n    });\n    \n    // Add Carto Positron tiles (clean, bright style)\n    window.L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\n      attribution: 'Â© <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors Â© <a href=\"https://carto.com/attributions\">CARTO</a>',\n      maxZoom: 19,\n      className: 'map-tiles'\n    }).addTo(newMap);\n\n    // Add hospital markers\n    const newMarkers = [];\n    const filteredHospitals = getFilteredHospitals();\n    filteredHospitals.forEach((hospital, index) => {\n      // Use actual coordinates if available, otherwise skip this hospital\n      let lat, lng;\n      \n      if (hospital.latitude && hospital.longitude) {\n        lat = parseFloat(hospital.latitude);\n        lng = parseFloat(hospital.longitude);\n      } else {\n        // If no coordinates, place near the center with small random offset\n        lat = centerLat + (Math.random() - 0.5) * 0.02;\n        lng = centerLng + (Math.random() - 0.5) * 0.02;\n      }\n\n      // Determine marker style based on hospital type\n      const isGovernment = hospital.isGovernment || hospital.category?.toLowerCase().includes('government');\n      const isAyush = hospital.category?.toLowerCase().includes('ayush');\n      \n      let markerColor = '#ef4444'; // Red for private\n      let markerIcon = 'local_hospital';\n      \n      if (isGovernment) {\n        markerColor = '#2563eb'; // Blue for government\n      } else if (isAyush) {\n        markerColor = '#10b981'; // Green for AYUSH\n        markerIcon = 'spa';\n      }\n\n      // Create custom HTML marker\n      const markerHtml = `\n        <div class=\"relative flex flex-col items-center\">\n          <div class=\"size-10 rounded-full border-2 border-white shadow-lg flex items-center justify-center text-white transform hover:scale-110 transition-transform cursor-pointer\" style=\"background-color: ${markerColor}\">\n            <span class=\"material-symbols-outlined text-[20px]\">${markerIcon}</span>\n          </div>\n          <div class=\"absolute -z-10 size-10 rounded-full animate-ping opacity-30\" style=\"background-color: ${markerColor}\"></div>\n        </div>\n      `;\n\n      // Create marker\n      const marker = window.L.marker([lat, lng], {\n        icon: window.L.divIcon({\n          html: markerHtml,\n          className: 'custom-hospital-marker',\n          iconSize: [40, 40],\n          iconAnchor: [20, 40],\n          popupAnchor: [0, -40]\n        })\n      }).addTo(newMap);\n\n      // Create popup content\n      const bedCount = Math.floor(Math.random() * 150) + 15;\n      const distance = hospital.distance || `${(Math.random() * 5 + 0.5).toFixed(1)} km`;\n      const hospitalType = isGovernment ? 'Sarkari' : isAyush ? 'AYUSH' : 'Private';\n      \n      const popupContent = `\n        <div class=\"p-3 min-w-[200px]\">\n          <h3 class=\"font-bold text-slate-900 text-sm mb-2\">${hospital.name}</h3>\n          <div class=\"space-y-1 text-xs\">\n            <div class=\"flex items-center gap-2\">\n              <span class=\"inline-block w-2 h-2 rounded-full\" style=\"background-color: ${markerColor}\"></span>\n              <span class=\"font-semibold\" style=\"color: ${markerColor}\">${hospitalType}</span>\n            </div>\n            <div class=\"flex items-center gap-2 text-slate-600\">\n              <span class=\"material-symbols-outlined text-[14px]\">location_on</span>\n              <span>${hospital.address}</span>\n            </div>\n            ${hospital.phone ? `\n              <div class=\"flex items-center gap-2 text-slate-600\">\n                <span class=\"material-symbols-outlined text-[14px]\">call</span>\n                <a href=\"tel:${hospital.phone}\" class=\"text-blue-600 hover:text-blue-800\">${hospital.phone}</a>\n              </div>\n            ` : ''}\n            <div class=\"flex items-center gap-2 text-slate-600\">\n              <span class=\"material-symbols-outlined text-[14px]\">bed</span>\n              <span>${bedCount} beds available</span>\n            </div>\n            <div class=\"flex items-center gap-2 text-slate-600\">\n              <span class=\"material-symbols-outlined text-[14px]\">route</span>\n              <span>${distance}</span>\n            </div>\n          </div>\n          <div class=\"mt-3 pt-2 border-t border-slate-200\">\n            <button onclick=\"window.open('tel:${hospital.phone}', '_self')\" class=\"w-full px-3 py-2 bg-primary hover:bg-primary-dark text-white text-sm font-medium rounded transition-colors flex items-center justify-center gap-2\">\n              <span class=\"material-symbols-outlined text-[16px]\">call</span>\n              Call Hospital\n            </button>\n          </div>\n        </div>\n      `;\n      \n      marker.bindPopup(popupContent, {\n        maxWidth: 300,\n        className: 'custom-popup'\n      });\n\n      // Add click handler to highlight corresponding list item\n      marker.on('click', () => {\n        highlightHospitalCard(index);\n        // Close mobile sidebar when marker is clicked\n        setSidebarOpen(false);\n      });\n\n      newMarkers.push(marker);\n    });\n\n    setMap(newMap);\n    setMarkers(newMarkers);\n    markersRef.current = newMarkers;\n\n    // Fit map to show all markers if we have multiple\n    if (newMarkers.length > 1) {\n      const group = new window.L.featureGroup(newMarkers);\n      newMap.fitBounds(group.getBounds().pad(0.1));\n    }\n\n    // Add user location if geolocation is available\n    newMap.on('locationfound', function(e) {\n      const userMarker = window.L.circleMarker(e.latlng, {\n        radius: 8,\n        fillColor: '#3b82f6',\n        color: '#ffffff',\n        weight: 2,\n        opacity: 1,\n        fillOpacity: 0.8\n      }).addTo(newMap);\n      \n      userMarker.bindPopup('Your location').openPopup();\n    });\n\n    newMap.on('locationerror', function(e) {\n      console.log('Location access denied or unavailable');\n    });\n  };\n\n  const highlightHospitalCard = (index) => {\n    // Remove previous highlights\n    document.querySelectorAll('.hospital-card').forEach(card => {\n      card.classList.remove('ring-2', 'ring-primary');\n    });\n\n    // Highlight selected card\n    const card = document.querySelector(`[data-hospital-index=\"${index}\"]`);\n    if (card) {\n      card.classList.add('ring-2', 'ring-primary');\n      card.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    }\n  };\n\n  // Render Phase 1 or Phase 2 based on current phase\n  if (currentPhase === 1) {\n    return (\n      <div className=\"flex flex-col min-h-screen\">\n        {/* Header */}\n        <header className=\"sticky top-0 z-50 w-full border-b border-slate-200 dark:border-slate-800 bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-md\">\n          <div className=\"px-4 md:px-10 h-16 flex items-center justify-between max-w-7xl mx-auto\">\n            <div className=\"flex items-center gap-3 text-slate-900 dark:text-white hover:opacity-80 transition-opacity cursor-pointer\">\n              <div className=\"size-8 rounded-lg bg-primary flex items-center justify-center text-white shadow-md shadow-primary/20\">\n                <span className=\"material-symbols-outlined text-[20px]\">local_hospital</span>\n              </div>\n              <h2 className=\"text-lg font-bold leading-tight tracking-tight hidden sm:block\">What's Up Doc</h2>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <button \n                onClick={() => setIsEmergency(true)}\n                className=\"flex items-center justify-center overflow-hidden rounded-lg h-9 px-4 bg-accent hover:bg-accent-dark text-white text-sm font-bold shadow-sm transition-colors ring-offset-2 focus:ring-2 ring-accent\"\n              >\n                <span className=\"material-symbols-outlined text-[18px] mr-2\">sos</span>\n                <span className=\"truncate\">Emergency SOS</span>\n              </button>\n            </div>\n          </div>\n        </header>\n\n        {/* Main Content */}\n        <main className=\"flex-grow flex flex-col items-center justify-center px-4 py-12 md:py-20 relative overflow-hidden\">\n          {/* Background Effects */}\n          <div aria-hidden=\"true\" className=\"absolute top-0 left-0 w-full h-full overflow-hidden -z-10 opacity-30 pointer-events-none\">\n            <div className=\"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-primary/20 rounded-full blur-[100px]\"></div>\n            <div className=\"absolute bottom-[-10%] right-[20%] w-[400px] h-[400px] bg-accent/20 rounded-full blur-[100px]\"></div>\n          </div>\n\n          <div className=\"w-full max-w-3xl flex flex-col items-center text-center space-y-8 z-10\">\n            {/* Privacy Badge */}\n            <div className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800 text-emerald-700 dark:text-emerald-400 text-xs font-semibold tracking-wide\">\n              <span className=\"material-symbols-outlined text-[14px]\">lock</span>\n              100% Anonymous & Private\n            </div>\n\n            {/* Main Heading */}\n            <div className=\"space-y-4\">\n              <h1 className=\"text-3xl md:text-5xl lg:text-[54px] font-bold text-slate-900 dark:text-white tracking-tight leading-[1.1]\">\n                Healthcare, <span className=\"text-primary\">right where you are.</span>\n              </h1>\n            </div>\n\n            {/* Form */}\n            <form onSubmit={handleSearch} className=\"w-full max-w-lg space-y-6\">\n              {/* Pincode Input */}\n              <div className=\"relative group\">\n                <div className=\"absolute -inset-1 bg-gradient-to-r from-primary to-accent rounded-2xl blur opacity-25 group-hover:opacity-40 transition duration-200\"></div>\n                <div className=\"relative\">\n                  <input \n                    value={pincode}\n                    onChange={handlePincodeChange}\n                    className=\"w-full h-24 bg-surface-light dark:bg-surface-dark rounded-2xl border-2 border-slate-200 dark:border-slate-700 text-center text-5xl font-black tracking-[0.5em] text-slate-900 dark:text-white placeholder:text-slate-400 focus:border-primary focus:outline-none focus:ring-4 focus:ring-primary/10 shadow-xl transition-all duration-300\" \n                    inputMode=\"numeric\" \n                    maxLength=\"6\" \n                    pattern=\"[0-9]*\" \n                    placeholder=\"______\" \n                    type=\"text\"\n                  />\n                  <div className=\"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400\">\n                    <span className=\"material-symbols-outlined text-3xl\">location_on</span>\n                  </div>\n                </div>\n                <p className=\"mt-4 text-sm text-slate-500 dark:text-slate-400 font-semibold\">Enter 6-digit Pincode</p>\n              </div>\n\n              {/* Emergency Toggle */}\n              <div className={`flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between rounded-2xl p-5 border border-transparent transition-colors duration-300 ${isEmergency ? 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800' : 'bg-slate-50 dark:bg-slate-800/50'}`}>\n                <div className=\"text-left space-y-1\">\n                  <div className=\"flex items-center gap-2\">\n                    <p className=\"text-base font-bold text-slate-900 dark:text-white\">Current Emergency?</p>\n                  </div>\n                  <p className=\"text-sm text-slate-500 dark:text-slate-400 transition-all duration-300\">\n                    {isEmergency ? 'Emergency Mode: Showing 24/7 trauma centers only.' : 'Show routine care & clinics.'}\n                  </p>\n                </div>\n                <label className=\"relative inline-flex cursor-pointer items-center self-start sm:self-center\">\n                  <input \n                    className=\"peer sr-only\" \n                    type=\"checkbox\" \n                    checked={isEmergency}\n                    onChange={handleEmergencyToggle}\n                  />\n                  <div className=\"h-8 w-14 rounded-full bg-slate-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent/20 dark:bg-slate-600 peer-checked:bg-accent transition-colors duration-300\"></div>\n                  <div className=\"absolute left-1 top-1 h-6 w-6 rounded-full bg-white transition-all duration-300 peer-checked:translate-x-full shadow-sm\"></div>\n                </label>\n              </div>\n\n              {/* Symptom Input */}\n              <div className=\"w-full relative group\">\n                <div className=\"absolute -inset-1 bg-gradient-to-r from-primary to-accent rounded-xl blur opacity-25 group-hover:opacity-40 transition duration-200\"></div>\n                <div className=\"relative w-full bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 flex items-center p-2\">\n                  <div className=\"pl-4 pr-3 text-slate-400\">\n                    <span className=\"material-symbols-outlined text-[28px]\">search</span>\n                  </div>\n                  <input \n                    value={condition}\n                    onChange={handleConditionChange}\n                    className=\"w-full h-14 bg-transparent border-none outline-none focus:ring-0 text-lg text-slate-900 dark:text-white placeholder:text-slate-400\" \n                    placeholder=\"Try 'Child has fever' or 'Heart checkup'...\" \n                    type=\"text\"\n                  />\n                  <button \n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"hidden sm:flex h-12 bg-primary hover:bg-primary-dark text-white font-medium rounded-lg px-6 items-center justify-center transition-colors shadow-lg shadow-primary/20 disabled:opacity-50\"\n                  >\n                    {loading ? 'Searching...' : 'Search'}\n                  </button>\n                </div>\n              </div>\n\n              <button \n                type=\"submit\"\n                disabled={loading}\n                className=\"sm:hidden w-full h-12 bg-primary hover:bg-primary-dark text-white font-medium rounded-lg flex items-center justify-center shadow-lg transition-colors disabled:opacity-50\"\n              >\n                {loading ? 'Searching...' : 'Search'}\n              </button>\n            </form>\n\n            <p className=\"text-slate-500 dark:text-slate-400 text-lg leading-relaxed max-w-xl mx-auto\">\n              Type your symptoms in plain English or Hinglish. We map your keywords to the correct <span className=\"text-slate-700 dark:text-slate-200 font-medium\">Specialty</span> or <span className=\"text-slate-700 dark:text-slate-200 font-medium\">System of Medicine</span>.\n            </p>\n\n            {/* Common Searches with Enhanced Hover */}\n            <div className=\"flex flex-col items-center gap-3 pt-2\">\n              <span className=\"text-sm text-slate-500 dark:text-slate-400 font-medium\">Common searches:</span>\n              <div className=\"flex flex-wrap justify-center gap-2\">\n                {[\n                  { symptom: 'fever', emoji: 'ðŸ¤’', label: 'Fever' },\n                  { symptom: 'skin rash', emoji: 'ðŸ¦ ', label: 'Skin Rash' },\n                  { symptom: 'child checkup', emoji: 'ðŸ‘¶', label: 'Pediatrician' },\n                  { symptom: 'toothache', emoji: 'ðŸ¦·', label: 'Toothache' },\n                  { symptom: 'ayurveda', emoji: 'ðŸ§˜', label: 'Ayurveda' }\n                ].map((item) => (\n                  <button \n                    key={item.symptom}\n                    onClick={() => handleSymptomTagClick(item.symptom)}\n                    className=\"group px-4 py-2 rounded-full text-sm font-medium bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:border-primary hover:text-primary dark:hover:border-primary dark:hover:text-primary hover:bg-primary/5 transition-all duration-200 transform hover:scale-105\"\n                  >\n                    <span className=\"group-hover:animate-bounce inline-block mr-1\">{item.emoji}</span>\n                    {item.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  // Phase 2 - Results with enhanced design\n  return (\n    <div className=\"flex flex-col h-screen overflow-hidden\">\n      {/* Enhanced Header */}\n      <header className=\"sticky top-0 z-50 w-full border-b border-slate-200 dark:border-slate-800 bg-surface-light dark:bg-surface-dark shadow-sm\">\n        <div className=\"px-4 h-16 flex items-center justify-between mx-auto w-full\">\n          <div className=\"flex items-center gap-3\">\n            {/* Back Button */}\n            <button \n              onClick={handleBackToPhase1}\n              className=\"flex items-center gap-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800\"\n            >\n              <span className=\"material-symbols-outlined\">arrow_back</span>\n              <span className=\"hidden sm:inline text-sm font-medium\">Back</span>\n            </button>\n            \n            <button \n              onClick={() => setSidebarOpen(!sidebarOpen)}\n              className=\"md:hidden flex items-center gap-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800\"\n            >\n              <span className=\"material-symbols-outlined\">menu</span>\n            </button>\n            \n            <div className=\"flex items-center gap-3\">\n              <div className=\"size-9 rounded-lg bg-primary flex items-center justify-center text-white shadow-md shadow-primary/20 shrink-0\">\n                <span className=\"material-symbols-outlined text-[20px]\">local_hospital</span>\n              </div>\n              <div>\n                <h2 className=\"text-lg font-bold leading-none tracking-tight hidden sm:block\">What's Up Doc</h2>\n                <span className=\"text-xs text-slate-500 font-medium tracking-wide\">Care-Map Discovery</span>\n              </div>\n            </div>\n          </div>\n          \n          {/* Search Keywords Display */}\n          <div className=\"hidden md:flex flex-1 max-w-xl mx-8 relative\">\n            <div className=\"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700\">\n              <span className=\"material-symbols-outlined text-slate-400 text-[16px]\">search</span>\n              <span className=\"text-sm text-slate-600 dark:text-slate-400\">\n                Searching for: <span className=\"font-semibold text-slate-900 dark:text-white\">\"{condition}\"</span>\n                {isEmergency && <span className=\"ml-2 px-2 py-0.5 bg-red-100 text-red-700 text-xs font-bold rounded\">Emergency Mode</span>}\n              </span>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center gap-3\">\n            <div className=\"hidden lg:flex items-center gap-1 text-xs font-semibold px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-700\">\n              <span className=\"size-2 rounded-full bg-green-500 animate-pulse\"></span>\n              Live Capacity\n            </div>\n            <button \n              onClick={() => setIsEmergency(true)}\n              className=\"flex items-center justify-center overflow-hidden rounded-lg h-9 px-4 bg-accent hover:bg-accent-dark text-white text-sm font-bold shadow-sm transition-colors ring-offset-2 focus:ring-2 ring-accent\"\n            >\n              <span className=\"material-symbols-outlined text-[18px] mr-2\">sos</span>\n              <span className=\"truncate\">SOS</span>\n            </button>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"flex flex-1 overflow-hidden relative w-full\">\n        {/* Mobile Overlay */}\n        {sidebarOpen && (\n          <div \n            className=\"fixed inset-0 bg-black bg-opacity-50 z-10 md:hidden\"\n            onClick={() => setSidebarOpen(false)}\n          ></div>\n        )}\n        {/* Enhanced Sidebar */}\n        <aside className={`w-full md:w-[450px] bg-white dark:bg-surface-dark border-r border-slate-200 dark:border-slate-800 flex flex-col z-20 absolute md:relative h-full transition-transform duration-300 shadow-2xl md:shadow-none ${sidebarOpen ? 'transform translate-x-0' : 'transform -translate-x-full md:translate-x-0'}`}>\n          \n          {/* Filters Header */}\n          <div className=\"px-4 py-4 border-b border-slate-100 dark:border-slate-800 space-y-4 bg-surface-light dark:bg-surface-dark z-10\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"font-bold text-slate-800 dark:text-white\">{getFilteredHospitals().length} Results found</h3>\n              <div className=\"flex items-center gap-2 text-xs font-medium text-slate-500 cursor-pointer hover:text-primary\">\n                <span className=\"material-symbols-outlined text-[16px]\">sort</span>\n                Sort by Distance\n              </div>\n            </div>\n            \n            {/* Filter Checkboxes */}\n            <div className=\"flex flex-wrap gap-2\">\n              <label className=\"inline-flex items-center cursor-pointer select-none px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-blue-400 transition-colors\">\n                <input \n                  className=\"form-checkbox text-blue-600 rounded size-4 mr-2 border-slate-300 focus:ring-blue-500\" \n                  type=\"checkbox\" \n                  checked={showSarkari}\n                  onChange={handleSarkariFilter}\n                />\n                <span className=\"text-xs font-semibold text-slate-700 dark:text-slate-300\">Sarkari (Govt)</span>\n              </label>\n              <label className=\"inline-flex items-center cursor-pointer select-none px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-red-400 transition-colors\">\n                <input \n                  className=\"form-checkbox text-red-600 rounded size-4 mr-2 border-slate-300 focus:ring-red-500\" \n                  type=\"checkbox\" \n                  checked={showPrivate}\n                  onChange={handlePrivateFilter}\n                />\n                <span className=\"text-xs font-semibold text-slate-700 dark:text-slate-300\">Private</span>\n              </label>\n              <label className=\"inline-flex items-center cursor-pointer select-none px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-green-400 transition-colors\">\n                <input \n                  className=\"form-checkbox text-green-600 rounded size-4 mr-2 border-slate-300 focus:ring-green-500\" \n                  type=\"checkbox\" \n                  checked={showAyush}\n                  onChange={handleAyushFilter}\n                />\n                <span className=\"text-xs font-semibold text-slate-700 dark:text-slate-300\">AYUSH</span>\n              </label>\n            </div>\n            \n            {/* Status Indicators */}\n            <div className=\"flex items-center gap-2 pt-1\">\n              <span className=\"text-xs font-medium text-slate-400\">Showing:</span>\n              <span className=\"inline-flex items-center gap-1 px-2 py-0.5 rounded text-[10px] font-bold bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400\">\n                <span className=\"material-symbols-outlined text-[12px]\">check_circle</span> Verified\n              </span>\n              <span className=\"inline-flex items-center gap-1 px-2 py-0.5 rounded text-[10px] font-bold bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-400\">\n                <span className=\"material-symbols-outlined text-[12px]\">bed</span> Beds Available\n              </span>\n            </div>\n          </div>\n\n          {/* Enhanced Hospital Cards */}\n          <div className=\"flex-1 overflow-y-auto p-3 space-y-3 bg-slate-50 dark:bg-[#0d141c]\">\n            {getFilteredHospitals().map((hospital, index) => {\n              const isGovernment = hospital.isGovernment || hospital.category?.toLowerCase().includes('government');\n              const isAyush = hospital.category?.toLowerCase().includes('ayush');\n              const hospitalType = isGovernment ? 'govt' : isAyush ? 'ayush' : 'private';\n              const hospitalTypeColor = isGovernment ? 'text-blue-600' : isAyush ? 'text-green-600' : 'text-red-600';\n              const hospitalTypeBg = isGovernment ? 'bg-blue-500' : isAyush ? 'bg-green-500' : 'bg-red-500';\n              const hospitalTypeLabel = isGovernment ? 'Sarkari' : isAyush ? 'AYUSH' : 'Private';\n              const bedCount = Math.floor(Math.random() * 150) + 15; // Mock bed count\n              const distance = hospital.distance || `${(Math.random() * 5 + 0.5).toFixed(1)} km away`;\n              \n              return (\n                <div \n                  key={index} \n                  className={`hospital-card group relative bg-white dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-${hospitalType}/50 transition-all cursor-pointer ${isAyush ? 'ring-1 ring-green-500/10 bg-gradient-to-br from-white to-green-50/50 dark:from-surface-dark dark:to-green-900/10' : ''}`}\n                  data-hospital-index={index}\n                  onClick={() => handleHospitalCardClick(index)}\n                >\n                  {/* Top Right Info */}\n                  <div className=\"absolute top-4 right-4 flex flex-col items-end gap-1\">\n                    <span className={`inline-flex items-center px-2 py-1 rounded text-xs font-bold border ${bedCount > 50 ? 'bg-green-50 text-green-700 border-green-100 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400' : 'bg-orange-50 text-orange-700 border-orange-100 dark:bg-orange-900/20 dark:border-orange-800 dark:text-orange-400'}`}>\n                      <span className=\"material-symbols-outlined text-[14px] mr-1\">bed</span>\n                      Beds: {bedCount}\n                    </span>\n                    <span className=\"text-[10px] text-slate-400\">{distance}</span>\n                  </div>\n\n                  {/* Main Content */}\n                  <div className=\"pr-20\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <h4 className=\"font-bold text-slate-900 dark:text-white text-base\">{hospital.name}</h4>\n                      <span className=\"material-symbols-outlined text-blue-500 text-[18px]\" title=\"Verified Accreditation\">verified</span>\n                    </div>\n                    \n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <span className={`size-2 rounded-full ${hospitalTypeBg}`}></span>\n                      <span className={`text-xs font-semibold ${hospitalTypeColor} uppercase tracking-wider`}>{hospitalTypeLabel}</span>\n                      <span className=\"text-slate-300 dark:text-slate-600\">|</span>\n                      <span className=\"text-xs text-slate-500\">\n                        {hospital.specialties && hospital.specialties.length > 0 \n                          ? hospital.specialties.slice(0, 3).map(s => s.trim().split(' ')[0]).join(', ')\n                          : 'General, Emergency'\n                        }\n                      </span>\n                    </div>\n                    \n                    <p className=\"text-sm text-slate-500 dark:text-slate-400 line-clamp-1 mb-3\">{hospital.address}</p>\n                    \n                    {/* Action Button */}\n                    <div className=\"flex gap-2\">\n                      {hospital.phone ? (\n                        <button \n                          onClick={(e) => {\n                            e.stopPropagation();\n                            copyToClipboard(hospital.phone, hospital.name);\n                          }}\n                          className=\"w-full h-8 rounded-md bg-primary hover:bg-primary-dark text-white text-xs font-semibold transition-colors flex items-center justify-center gap-1 shadow-sm shadow-primary/20\"\n                        >\n                          <span className=\"material-symbols-outlined text-[16px]\">call</span> Call Hospital\n                        </button>\n                      ) : (\n                        <div className=\"w-full h-8 rounded-md bg-slate-300 dark:bg-slate-600 text-slate-500 dark:text-slate-400 text-xs font-semibold flex items-center justify-center gap-1\">\n                          <span className=\"material-symbols-outlined text-[16px]\">phone_disabled</span> No Phone Available\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n            \n            <div className=\"text-center py-4\">\n              <p className=\"text-xs text-slate-400\">End of results near you</p>\n            </div>\n          </div>\n\n          {/* Footer */}\n          <div className=\"p-3 bg-white dark:bg-surface-dark border-t border-slate-200 dark:border-slate-800 flex justify-center items-center text-[10px] text-slate-400\">\n            <span>Â© What's Up Doc</span>\n          </div>\n        </aside>\n\n        {/* Real Leaflet Map Section */}\n        <section className=\"flex-1 relative overflow-hidden z-0\">\n          <div id=\"care-map\" className=\"w-full h-full\"></div>\n\n          {/* Map Controls */}\n          <div className=\"absolute top-4 right-4 flex flex-col gap-2 z-[1000]\">\n            <button \n              onClick={() => {\n                if (map) {\n                  map.locate({setView: true, maxZoom: 16});\n                }\n              }}\n              className=\"size-10 rounded-lg bg-white dark:bg-surface-dark shadow-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-700 dark:text-slate-200 hover:text-primary transition-colors\"\n              title=\"Find My Location\"\n            >\n              <span className=\"material-symbols-outlined\">my_location</span>\n            </button>\n            <button \n              onClick={() => {\n                if (map) {\n                  map.zoomIn();\n                }\n              }}\n              className=\"size-10 rounded-lg bg-white dark:bg-surface-dark shadow-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-700 dark:text-slate-200 hover:text-primary transition-colors\"\n              title=\"Zoom In\"\n            >\n              <span className=\"material-symbols-outlined\">add</span>\n            </button>\n            <button \n              onClick={() => {\n                if (map) {\n                  map.zoomOut();\n                }\n              }}\n              className=\"size-10 rounded-lg bg-white dark:bg-surface-dark shadow-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center text-slate-700 dark:text-slate-200 hover:text-primary transition-colors\"\n              title=\"Zoom Out\"\n            >\n              <span className=\"material-symbols-outlined\">remove</span>\n            </button>\n          </div>\n\n          {/* Map Legend */}\n          <div className=\"absolute top-4 left-4 z-[1000]\">\n            <div className=\"bg-white dark:bg-surface-dark rounded-lg shadow-lg p-3 border border-slate-200 dark:border-slate-700\">\n              <div className=\"text-sm font-semibold text-slate-900 dark:text-white mb-2\">Hospital Types</div>\n              <div className=\"space-y-1 text-xs\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-red-500\"></div>\n                  <span className=\"text-slate-600 dark:text-slate-400\">Private/Multi-specialty</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-blue-500\"></div>\n                  <span className=\"text-slate-600 dark:text-slate-400\">Government/Sarkari</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-green-500\"></div>\n                  <span className=\"text-slate-600 dark:text-slate-400\">AYUSH (Ayurveda/Homeopathy)</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}