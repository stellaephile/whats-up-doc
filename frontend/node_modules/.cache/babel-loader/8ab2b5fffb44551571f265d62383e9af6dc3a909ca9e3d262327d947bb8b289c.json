{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nfunction App() {\n  _s();\n  const [currentPhase, setCurrentPhase] = useState(1);\n  const [pincode, setPincode] = useState('');\n  const [condition, setCondition] = useState('');\n  const [isEmergency, setIsEmergency] = useState(false);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [map, setMap] = useState(null);\n  const [markers, setMarkers] = useState([]);\n  useEffect(() => {\n    initializeEventListeners();\n    return () => {\n      // Cleanup event listeners\n      removeEventListeners();\n    };\n  }, []);\n  const initializeEventListeners = () => {\n    // Phase 1 Elements\n    const pincodeInput = document.getElementById('pincode-input');\n    const symptomInput = document.getElementById('symptom-input');\n    const emergencyToggle = document.getElementById('emergency-toggle');\n    const searchBtn = document.getElementById('search-btn');\n    const searchBtnMobile = document.getElementById('search-btn-mobile');\n    const emergencySosBtn = document.getElementById('emergency-sos-btn');\n    const symptomTags = document.querySelectorAll('.symptom-tag');\n\n    // Phase 2 Elements\n    const backBtn = document.getElementById('back-btn');\n    const filterButtons = document.querySelectorAll('[id^=\"filter-\"]');\n\n    // Phase 1 Event Listeners\n    if (pincodeInput) {\n      pincodeInput.addEventListener('input', handlePincodeInput);\n    }\n    if (symptomInput) {\n      symptomInput.addEventListener('input', handleSymptomInput);\n      symptomInput.addEventListener('keypress', handleSymptomKeypress);\n    }\n    if (emergencyToggle) {\n      emergencyToggle.addEventListener('change', handleEmergencyToggle);\n    }\n    if (searchBtn) {\n      searchBtn.addEventListener('click', handleSearch);\n    }\n    if (searchBtnMobile) {\n      searchBtnMobile.addEventListener('click', handleSearch);\n    }\n    if (emergencySosBtn) {\n      emergencySosBtn.addEventListener('click', handleEmergencySOS);\n    }\n\n    // Symptom tag clicks\n    symptomTags.forEach(tag => {\n      tag.addEventListener('click', handleSymptomTagClick);\n    });\n\n    // Phase 2 Event Listeners\n    if (backBtn) {\n      backBtn.addEventListener('click', handleBackToPhase1);\n    }\n    filterButtons.forEach(btn => {\n      btn.addEventListener('click', handleFilterToggle);\n    });\n  };\n  const removeEventListeners = () => {\n    // Remove all event listeners to prevent memory leaks\n    const elements = ['pincode-input', 'symptom-input', 'emergency-toggle', 'search-btn', 'search-btn-mobile', 'emergency-sos-btn', 'back-btn'];\n    elements.forEach(id => {\n      const element = document.getElementById(id);\n      if (element) {\n        element.replaceWith(element.cloneNode(true));\n      }\n    });\n  };\n  const handlePincodeInput = e => {\n    // Remove non-numeric characters and limit to 6 digits\n    const value = e.target.value.replace(/[^0-9]/g, '').slice(0, 6);\n    e.target.value = value;\n    setPincode(value);\n\n    // Add visual feedback for valid pincode\n    if (value.length === 6) {\n      e.target.classList.add('border-primary', 'ring-4', 'ring-primary/10');\n      e.target.classList.remove('border-slate-200', 'dark:border-slate-700');\n    } else {\n      e.target.classList.remove('border-primary', 'ring-4', 'ring-primary/10');\n      e.target.classList.add('border-slate-200', 'dark:border-slate-700');\n    }\n  };\n  const handleSymptomInput = e => {\n    setCondition(e.target.value);\n  };\n  const handleSymptomKeypress = e => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n  const handleSymptomTagClick = e => {\n    const symptom = e.target.getAttribute('data-symptom');\n    const symptomInput = document.getElementById('symptom-input');\n    if (symptomInput && symptom) {\n      symptomInput.value = symptom;\n      setCondition(symptom);\n\n      // Add visual feedback\n      e.target.classList.add('bg-primary', 'text-white', 'border-primary');\n      setTimeout(() => {\n        e.target.classList.remove('bg-primary', 'text-white', 'border-primary');\n      }, 1000);\n    }\n  };\n  const handleEmergencyToggle = e => {\n    const isChecked = e.target.checked;\n    setIsEmergency(isChecked);\n    const statusText = document.getElementById('toggle-status-text');\n    const toggleContainer = document.getElementById('emergency-toggle-container');\n    if (isChecked) {\n      // Emergency State\n      statusText.innerHTML = '<span class=\"font-bold text-accent\">Emergency Mode:</span> Showing 24/7 trauma centers only.';\n      toggleContainer.classList.add('bg-red-50', 'dark:bg-red-900/20', 'border-red-200', 'dark:border-red-800');\n      toggleContainer.classList.remove('bg-slate-50', 'dark:bg-slate-800/50');\n    } else {\n      // Normal State\n      statusText.innerText = 'Show routine care & clinics.';\n      toggleContainer.classList.remove('bg-red-50', 'dark:bg-red-900/20', 'border-red-200', 'dark:border-red-800');\n      toggleContainer.classList.add('bg-slate-50', 'dark:bg-slate-800/50');\n    }\n  };\n  const handleEmergencySOS = () => {\n    // Auto-fill emergency mode\n    const emergencyToggle = document.getElementById('emergency-toggle');\n    const symptomInput = document.getElementById('symptom-input');\n    if (emergencyToggle && !emergencyToggle.checked) {\n      emergencyToggle.click();\n    }\n    if (symptomInput) {\n      symptomInput.value = 'Emergency - need immediate help';\n      setCondition('Emergency - need immediate help');\n    }\n\n    // Focus on pincode if empty\n    const pincodeInput = document.getElementById('pincode-input');\n    if (pincodeInput && !pincode) {\n      pincodeInput.focus();\n    } else if (pincode.length === 6) {\n      handleSearch();\n    }\n  };\n  const handleSearch = async () => {\n    if (!pincode || pincode.length !== 6) {\n      showError('Please enter a valid 6-digit pincode');\n      return;\n    }\n    if (!condition.trim()) {\n      showError('Please describe your medical condition');\n      return;\n    }\n    setLoading(true);\n    setError('');\n\n    // Show loading state\n    showLoadingState();\n    try {\n      let endpoint = '/api/hospitals/recommend';\n      const params = new URLSearchParams({\n        condition: condition,\n        pincode: pincode\n      });\n      if (isEmergency) {\n        endpoint = '/api/hospitals/emergency';\n      }\n      const response = await axios.get(`${endpoint}?${params}`);\n      let hospitals = [];\n      if (isEmergency) {\n        hospitals = response.data.nearestHospitals || [];\n      } else {\n        hospitals = response.data.recommendations || [];\n      }\n      setRecommendations(hospitals);\n      if (hospitals.length > 0) {\n        transitionToPhase2(hospitals);\n      } else {\n        showError('No hospitals found for this pincode. Please try a nearby pincode.');\n      }\n    } catch (error) {\n      console.error('Error searching hospitals:', error);\n      showError('Unable to find hospitals. Please check your connection and try again.');\n    } finally {\n      setLoading(false);\n      hideLoadingState();\n    }\n  };\n  const showError = message => {\n    setError(message);\n    // You could add a toast notification here\n    alert(message); // Simple alert for now\n  };\n  const showLoadingState = () => {\n    const searchBtn = document.getElementById('search-btn');\n    const searchBtnMobile = document.getElementById('search-btn-mobile');\n    [searchBtn, searchBtnMobile].forEach(btn => {\n      if (btn) {\n        btn.disabled = true;\n        btn.innerHTML = '<span class=\"material-symbols-outlined animate-spin mr-2\">progress_activity</span>Searching...';\n      }\n    });\n  };\n  const hideLoadingState = () => {\n    const searchBtn = document.getElementById('search-btn');\n    const searchBtnMobile = document.getElementById('search-btn-mobile');\n    if (searchBtn) {\n      searchBtn.disabled = false;\n      searchBtn.innerHTML = 'Search';\n    }\n    if (searchBtnMobile) {\n      searchBtnMobile.disabled = false;\n      searchBtnMobile.innerHTML = 'Search';\n    }\n  };\n  const transitionToPhase2 = hospitals => {\n    const phase1Container = document.getElementById('phase1-container');\n    const phase2Container = document.getElementById('phase2-container');\n    if (phase1Container && phase2Container) {\n      // Hide Phase 1\n      phase1Container.classList.add('hidden');\n\n      // Show Phase 2\n      phase2Container.classList.remove('hidden');\n\n      // Update display pincode\n      const displayPincode = document.getElementById('display-pincode');\n      if (displayPincode) {\n        displayPincode.textContent = pincode;\n      }\n\n      // Update results count\n      const resultsCount = document.getElementById('results-count');\n      if (resultsCount) {\n        resultsCount.textContent = hospitals.length;\n      }\n\n      // Initialize map and render results\n      setTimeout(() => {\n        initializeMap(hospitals);\n        renderHospitalsList(hospitals);\n      }, 100);\n      setCurrentPhase(2);\n    }\n  };\n  const handleBackToPhase1 = () => {\n    const phase1Container = document.getElementById('phase1-container');\n    const phase2Container = document.getElementById('phase2-container');\n    if (phase1Container && phase2Container) {\n      // Show Phase 1\n      phase1Container.classList.remove('hidden');\n\n      // Hide Phase 2\n      phase2Container.classList.add('hidden');\n\n      // Clean up map\n      if (map) {\n        map.remove();\n        setMap(null);\n      }\n      setCurrentPhase(1);\n    }\n  };\n  const initializeMap = hospitals => {\n    const mapContainer = document.getElementById('care-map');\n    if (!mapContainer || !window.L) return;\n\n    // Determine center point (use first hospital or default to city center)\n    let centerLat = 17.4274; // Default to Hyderabad\n    let centerLng = 78.4311;\n    if (hospitals.length > 0 && hospitals[0].latitude && hospitals[0].longitude) {\n      centerLat = hospitals[0].latitude;\n      centerLng = hospitals[0].longitude;\n    } else {\n      // Determine center based on pincode\n      if (pincode.startsWith('56')) {\n        centerLat = 12.9716; // Bangalore\n        centerLng = 77.5946;\n      } else if (pincode.startsWith('6')) {\n        centerLat = 13.0827; // Chennai\n        centerLng = 80.2707;\n      }\n    }\n\n    // Initialize map\n    const newMap = window.L.map('care-map').setView([centerLat, centerLng], 12);\n\n    // Add tile layer\n    window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '© OpenStreetMap contributors'\n    }).addTo(newMap);\n\n    // Add hospital markers\n    const newMarkers = [];\n    hospitals.forEach((hospital, index) => {\n      if (hospital.latitude && hospital.longitude) {\n        var _hospital$category, _hospital$category2;\n        // Determine marker color based on hospital type\n        let markerColor = '#ef4444'; // Red for private\n        if (hospital.isGovernment || (_hospital$category = hospital.category) !== null && _hospital$category !== void 0 && _hospital$category.toLowerCase().includes('government')) {\n          markerColor = '#3b82f6'; // Blue for government\n        }\n        if ((_hospital$category2 = hospital.category) !== null && _hospital$category2 !== void 0 && _hospital$category2.toLowerCase().includes('ayush')) {\n          markerColor = '#10b981'; // Green for AYUSH\n        }\n\n        // Create custom marker\n        const marker = window.L.circleMarker([hospital.latitude, hospital.longitude], {\n          radius: 8,\n          fillColor: markerColor,\n          color: '#ffffff',\n          weight: 2,\n          opacity: 1,\n          fillOpacity: 0.8\n        }).addTo(newMap);\n\n        // Add popup\n        const popupContent = `\n          <div class=\"p-2\">\n            <h3 class=\"font-bold text-sm mb-1\">${hospital.name}</h3>\n            <p class=\"text-xs text-gray-600 mb-1\">${hospital.address}</p>\n            <p class=\"text-xs font-medium\">${hospital.category || 'Hospital'}</p>\n            ${hospital.phone ? `<p class=\"text-xs mt-1\"><a href=\"tel:${hospital.phone}\" class=\"text-blue-600\">${hospital.phone}</a></p>` : ''}\n          </div>\n        `;\n        marker.bindPopup(popupContent);\n\n        // Add click handler to highlight corresponding list item\n        marker.on('click', () => {\n          highlightHospitalCard(index);\n        });\n        newMarkers.push(marker);\n      }\n    });\n    setMap(newMap);\n    setMarkers(newMarkers);\n\n    // Fit map to show all markers\n    if (newMarkers.length > 0) {\n      const group = new window.L.featureGroup(newMarkers);\n      newMap.fitBounds(group.getBounds().pad(0.1));\n    }\n  };\n  const highlightHospitalCard = index => {\n    // Remove previous highlights\n    document.querySelectorAll('.hospital-card').forEach(card => {\n      card.classList.remove('ring-2', 'ring-primary');\n    });\n\n    // Highlight selected card\n    const card = document.querySelector(`[data-hospital-index=\"${index}\"]`);\n    if (card) {\n      card.classList.add('ring-2', 'ring-primary');\n      card.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n    }\n  };\n  const renderHospitalsList = hospitals => {\n    const resultsList = document.getElementById('results-list');\n    if (!resultsList) return;\n    resultsList.innerHTML = hospitals.map((hospital, index) => `\n      <div class=\"hospital-card bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all cursor-pointer\" \n           data-hospital-index=\"${index}\"\n           onclick=\"handleHospitalCardClick(${index})\">\n        \n        <div class=\"flex items-start gap-3 mb-3\">\n          <div class=\"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${getHospitalTypeColor(hospital)}\">\n            <span class=\"material-symbols-outlined text-white text-lg\">local_hospital</span>\n          </div>\n          <div class=\"flex-1 min-w-0\">\n            <h3 class=\"font-bold text-slate-900 dark:text-white text-sm mb-1 truncate\">${hospital.name}</h3>\n            <p class=\"text-xs text-slate-500 dark:text-slate-400\">${hospital.category || 'Hospital'}</p>\n          </div>\n          ${hospital.emergencyAvailable ? `\n            <div class=\"flex-shrink-0\">\n              <span class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n                24/7\n              </span>\n            </div>\n          ` : ''}\n        </div>\n\n        <div class=\"space-y-2 text-xs\">\n          <div class=\"flex items-center gap-2 text-slate-600 dark:text-slate-400\">\n            <span class=\"material-symbols-outlined text-sm\">location_on</span>\n            <span class=\"truncate\">${hospital.address}</span>\n          </div>\n          \n          ${hospital.phone ? `\n            <div class=\"flex items-center gap-2\">\n              <span class=\"material-symbols-outlined text-sm text-primary\">call</span>\n              <a href=\"tel:${hospital.phone}\" class=\"text-primary hover:text-primary-dark font-medium\">${hospital.phone}</a>\n            </div>\n          ` : ''}\n          \n          ${hospital.distance ? `\n            <div class=\"flex items-center gap-2 text-slate-600 dark:text-slate-400\">\n              <span class=\"material-symbols-outlined text-sm\">route</span>\n              <span>${hospital.distance}</span>\n            </div>\n          ` : ''}\n        </div>\n\n        ${hospital.specialties && hospital.specialties.length > 0 ? `\n          <div class=\"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700\">\n            <div class=\"flex flex-wrap gap-1\">\n              ${hospital.specialties.slice(0, 2).map(specialty => `\n                <span class=\"inline-block px-2 py-1 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300\">\n                  ${specialty.trim()}\n                </span>\n              `).join('')}\n              ${hospital.specialties.length > 2 ? `\n                <span class=\"inline-block px-2 py-1 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400\">\n                  +${hospital.specialties.length - 2}\n                </span>\n              ` : ''}\n            </div>\n          </div>\n        ` : ''}\n\n        <div class=\"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between\">\n          <div class=\"flex items-center gap-1 text-xs\">\n            <span class=\"material-symbols-outlined text-sm ${hospital.cost === 'Free/Subsidized' ? 'text-green-600' : 'text-orange-500'}\">\n              ${hospital.cost === 'Free/Subsidized' ? 'currency_rupee' : 'paid'}\n            </span>\n            <span class=\"font-medium text-slate-700 dark:text-slate-300\">${hospital.cost || 'Contact for pricing'}</span>\n          </div>\n          \n          <button class=\"text-xs text-primary hover:text-primary-dark font-medium\">\n            View on Map\n          </button>\n        </div>\n      </div>\n    `).join('');\n\n    // Add global click handler for hospital cards\n    window.handleHospitalCardClick = index => {\n      if (markers[index]) {\n        markers[index].fire('click');\n        // Center map on selected marker\n        if (map && hospitals[index].latitude && hospitals[index].longitude) {\n          map.setView([hospitals[index].latitude, hospitals[index].longitude], 15);\n        }\n      }\n    };\n  };\n  const getHospitalTypeColor = hospital => {\n    var _hospital$category3, _hospital$category4;\n    if (hospital.isGovernment || (_hospital$category3 = hospital.category) !== null && _hospital$category3 !== void 0 && _hospital$category3.toLowerCase().includes('government')) {\n      return 'bg-blue-500'; // Government\n    }\n    if ((_hospital$category4 = hospital.category) !== null && _hospital$category4 !== void 0 && _hospital$category4.toLowerCase().includes('ayush')) {\n      return 'bg-green-500'; // AYUSH\n    }\n    return 'bg-red-500'; // Private\n  };\n  const handleFilterToggle = e => {\n    const filterType = e.target.id.replace('filter-', '');\n\n    // Toggle active state\n    e.target.classList.toggle('opacity-50');\n\n    // Filter hospitals based on active filters\n    const activeFilters = [];\n    document.querySelectorAll('[id^=\"filter-\"]').forEach(btn => {\n      if (!btn.classList.contains('opacity-50')) {\n        activeFilters.push(btn.id.replace('filter-', ''));\n      }\n    });\n\n    // Apply filters to map markers and list\n    filterHospitals(activeFilters);\n  };\n  const filterHospitals = activeFilters => {\n    if (activeFilters.length === 0) {\n      // Show all hospitals\n      markers.forEach(marker => marker.addTo(map));\n      document.querySelectorAll('.hospital-card').forEach(card => {\n        card.style.display = 'block';\n      });\n      return;\n    }\n    recommendations.forEach((hospital, index) => {\n      let shouldShow = false;\n      activeFilters.forEach(filter => {\n        var _hospital$category5, _hospital$category6, _hospital$category7;\n        if (filter === 'sarkari' && (hospital.isGovernment || (_hospital$category5 = hospital.category) !== null && _hospital$category5 !== void 0 && _hospital$category5.toLowerCase().includes('government'))) {\n          shouldShow = true;\n        }\n        if (filter === 'private' && !hospital.isGovernment && !((_hospital$category6 = hospital.category) !== null && _hospital$category6 !== void 0 && _hospital$category6.toLowerCase().includes('ayush'))) {\n          shouldShow = true;\n        }\n        if (filter === 'ayush' && (_hospital$category7 = hospital.category) !== null && _hospital$category7 !== void 0 && _hospital$category7.toLowerCase().includes('ayush')) {\n          shouldShow = true;\n        }\n      });\n\n      // Show/hide marker\n      if (markers[index]) {\n        if (shouldShow) {\n          markers[index].addTo(map);\n        } else {\n          map.removeLayer(markers[index]);\n        }\n      }\n\n      // Show/hide list item\n      const card = document.querySelector(`[data-hospital-index=\"${index}\"]`);\n      if (card) {\n        card.style.display = shouldShow ? 'block' : 'none';\n      }\n    });\n  };\n  return null; // This component manages the existing HTML structure\n}\n_s(App, \"+BvTHWc05mV/x/VqGcXYfiFSV0s=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","App","_s","currentPhase","setCurrentPhase","pincode","setPincode","condition","setCondition","isEmergency","setIsEmergency","recommendations","setRecommendations","loading","setLoading","error","setError","map","setMap","markers","setMarkers","initializeEventListeners","removeEventListeners","pincodeInput","document","getElementById","symptomInput","emergencyToggle","searchBtn","searchBtnMobile","emergencySosBtn","symptomTags","querySelectorAll","backBtn","filterButtons","addEventListener","handlePincodeInput","handleSymptomInput","handleSymptomKeypress","handleEmergencyToggle","handleSearch","handleEmergencySOS","forEach","tag","handleSymptomTagClick","handleBackToPhase1","btn","handleFilterToggle","elements","id","element","replaceWith","cloneNode","e","value","target","replace","slice","length","classList","add","remove","key","symptom","getAttribute","setTimeout","isChecked","checked","statusText","toggleContainer","innerHTML","innerText","click","focus","showError","trim","showLoadingState","endpoint","params","URLSearchParams","response","get","hospitals","data","nearestHospitals","transitionToPhase2","console","hideLoadingState","message","alert","disabled","phase1Container","phase2Container","displayPincode","textContent","resultsCount","initializeMap","renderHospitalsList","mapContainer","window","L","centerLat","centerLng","latitude","longitude","startsWith","newMap","setView","tileLayer","attribution","addTo","newMarkers","hospital","index","_hospital$category","_hospital$category2","markerColor","isGovernment","category","toLowerCase","includes","marker","circleMarker","radius","fillColor","color","weight","opacity","fillOpacity","popupContent","name","address","phone","bindPopup","on","highlightHospitalCard","push","group","featureGroup","fitBounds","getBounds","pad","card","querySelector","scrollIntoView","behavior","block","resultsList","getHospitalTypeColor","emergencyAvailable","distance","specialties","specialty","join","cost","handleHospitalCardClick","fire","_hospital$category3","_hospital$category4","filterType","toggle","activeFilters","contains","filterHospitals","style","display","shouldShow","filter","_hospital$category5","_hospital$category6","_hospital$category7","removeLayer","_c","$RefreshReg$"],"sources":["/Users/sonalgan/health-care/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [currentPhase, setCurrentPhase] = useState(1);\n  const [pincode, setPincode] = useState('');\n  const [condition, setCondition] = useState('');\n  const [isEmergency, setIsEmergency] = useState(false);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [map, setMap] = useState(null);\n  const [markers, setMarkers] = useState([]);\n\n  useEffect(() => {\n    initializeEventListeners();\n    return () => {\n      // Cleanup event listeners\n      removeEventListeners();\n    };\n  }, []);\n\n  const initializeEventListeners = () => {\n    // Phase 1 Elements\n    const pincodeInput = document.getElementById('pincode-input');\n    const symptomInput = document.getElementById('symptom-input');\n    const emergencyToggle = document.getElementById('emergency-toggle');\n    const searchBtn = document.getElementById('search-btn');\n    const searchBtnMobile = document.getElementById('search-btn-mobile');\n    const emergencySosBtn = document.getElementById('emergency-sos-btn');\n    const symptomTags = document.querySelectorAll('.symptom-tag');\n\n    // Phase 2 Elements\n    const backBtn = document.getElementById('back-btn');\n    const filterButtons = document.querySelectorAll('[id^=\"filter-\"]');\n\n    // Phase 1 Event Listeners\n    if (pincodeInput) {\n      pincodeInput.addEventListener('input', handlePincodeInput);\n    }\n\n    if (symptomInput) {\n      symptomInput.addEventListener('input', handleSymptomInput);\n      symptomInput.addEventListener('keypress', handleSymptomKeypress);\n    }\n\n    if (emergencyToggle) {\n      emergencyToggle.addEventListener('change', handleEmergencyToggle);\n    }\n\n    if (searchBtn) {\n      searchBtn.addEventListener('click', handleSearch);\n    }\n\n    if (searchBtnMobile) {\n      searchBtnMobile.addEventListener('click', handleSearch);\n    }\n\n    if (emergencySosBtn) {\n      emergencySosBtn.addEventListener('click', handleEmergencySOS);\n    }\n\n    // Symptom tag clicks\n    symptomTags.forEach(tag => {\n      tag.addEventListener('click', handleSymptomTagClick);\n    });\n\n    // Phase 2 Event Listeners\n    if (backBtn) {\n      backBtn.addEventListener('click', handleBackToPhase1);\n    }\n\n    filterButtons.forEach(btn => {\n      btn.addEventListener('click', handleFilterToggle);\n    });\n  };\n\n  const removeEventListeners = () => {\n    // Remove all event listeners to prevent memory leaks\n    const elements = [\n      'pincode-input', 'symptom-input', 'emergency-toggle', \n      'search-btn', 'search-btn-mobile', 'emergency-sos-btn', 'back-btn'\n    ];\n    \n    elements.forEach(id => {\n      const element = document.getElementById(id);\n      if (element) {\n        element.replaceWith(element.cloneNode(true));\n      }\n    });\n  };\n\n  const handlePincodeInput = (e) => {\n    // Remove non-numeric characters and limit to 6 digits\n    const value = e.target.value.replace(/[^0-9]/g, '').slice(0, 6);\n    e.target.value = value;\n    setPincode(value);\n\n    // Add visual feedback for valid pincode\n    if (value.length === 6) {\n      e.target.classList.add('border-primary', 'ring-4', 'ring-primary/10');\n      e.target.classList.remove('border-slate-200', 'dark:border-slate-700');\n    } else {\n      e.target.classList.remove('border-primary', 'ring-4', 'ring-primary/10');\n      e.target.classList.add('border-slate-200', 'dark:border-slate-700');\n    }\n  };\n\n  const handleSymptomInput = (e) => {\n    setCondition(e.target.value);\n  };\n\n  const handleSymptomKeypress = (e) => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  const handleSymptomTagClick = (e) => {\n    const symptom = e.target.getAttribute('data-symptom');\n    const symptomInput = document.getElementById('symptom-input');\n    if (symptomInput && symptom) {\n      symptomInput.value = symptom;\n      setCondition(symptom);\n      \n      // Add visual feedback\n      e.target.classList.add('bg-primary', 'text-white', 'border-primary');\n      setTimeout(() => {\n        e.target.classList.remove('bg-primary', 'text-white', 'border-primary');\n      }, 1000);\n    }\n  };\n\n  const handleEmergencyToggle = (e) => {\n    const isChecked = e.target.checked;\n    setIsEmergency(isChecked);\n    \n    const statusText = document.getElementById('toggle-status-text');\n    const toggleContainer = document.getElementById('emergency-toggle-container');\n    \n    if (isChecked) {\n      // Emergency State\n      statusText.innerHTML = '<span class=\"font-bold text-accent\">Emergency Mode:</span> Showing 24/7 trauma centers only.';\n      toggleContainer.classList.add('bg-red-50', 'dark:bg-red-900/20', 'border-red-200', 'dark:border-red-800');\n      toggleContainer.classList.remove('bg-slate-50', 'dark:bg-slate-800/50');\n    } else {\n      // Normal State\n      statusText.innerText = 'Show routine care & clinics.';\n      toggleContainer.classList.remove('bg-red-50', 'dark:bg-red-900/20', 'border-red-200', 'dark:border-red-800');\n      toggleContainer.classList.add('bg-slate-50', 'dark:bg-slate-800/50');\n    }\n  };\n\n  const handleEmergencySOS = () => {\n    // Auto-fill emergency mode\n    const emergencyToggle = document.getElementById('emergency-toggle');\n    const symptomInput = document.getElementById('symptom-input');\n    \n    if (emergencyToggle && !emergencyToggle.checked) {\n      emergencyToggle.click();\n    }\n    \n    if (symptomInput) {\n      symptomInput.value = 'Emergency - need immediate help';\n      setCondition('Emergency - need immediate help');\n    }\n    \n    // Focus on pincode if empty\n    const pincodeInput = document.getElementById('pincode-input');\n    if (pincodeInput && !pincode) {\n      pincodeInput.focus();\n    } else if (pincode.length === 6) {\n      handleSearch();\n    }\n  };\n\n  const handleSearch = async () => {\n    if (!pincode || pincode.length !== 6) {\n      showError('Please enter a valid 6-digit pincode');\n      return;\n    }\n\n    if (!condition.trim()) {\n      showError('Please describe your medical condition');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n    \n    // Show loading state\n    showLoadingState();\n\n    try {\n      let endpoint = '/api/hospitals/recommend';\n      const params = new URLSearchParams({\n        condition: condition,\n        pincode: pincode\n      });\n\n      if (isEmergency) {\n        endpoint = '/api/hospitals/emergency';\n      }\n\n      const response = await axios.get(`${endpoint}?${params}`);\n      \n      let hospitals = [];\n      if (isEmergency) {\n        hospitals = response.data.nearestHospitals || [];\n      } else {\n        hospitals = response.data.recommendations || [];\n      }\n\n      setRecommendations(hospitals);\n      \n      if (hospitals.length > 0) {\n        transitionToPhase2(hospitals);\n      } else {\n        showError('No hospitals found for this pincode. Please try a nearby pincode.');\n      }\n\n    } catch (error) {\n      console.error('Error searching hospitals:', error);\n      showError('Unable to find hospitals. Please check your connection and try again.');\n    } finally {\n      setLoading(false);\n      hideLoadingState();\n    }\n  };\n\n  const showError = (message) => {\n    setError(message);\n    // You could add a toast notification here\n    alert(message); // Simple alert for now\n  };\n\n  const showLoadingState = () => {\n    const searchBtn = document.getElementById('search-btn');\n    const searchBtnMobile = document.getElementById('search-btn-mobile');\n    \n    [searchBtn, searchBtnMobile].forEach(btn => {\n      if (btn) {\n        btn.disabled = true;\n        btn.innerHTML = '<span class=\"material-symbols-outlined animate-spin mr-2\">progress_activity</span>Searching...';\n      }\n    });\n  };\n\n  const hideLoadingState = () => {\n    const searchBtn = document.getElementById('search-btn');\n    const searchBtnMobile = document.getElementById('search-btn-mobile');\n    \n    if (searchBtn) {\n      searchBtn.disabled = false;\n      searchBtn.innerHTML = 'Search';\n    }\n    \n    if (searchBtnMobile) {\n      searchBtnMobile.disabled = false;\n      searchBtnMobile.innerHTML = 'Search';\n    }\n  };\n\n  const transitionToPhase2 = (hospitals) => {\n    const phase1Container = document.getElementById('phase1-container');\n    const phase2Container = document.getElementById('phase2-container');\n    \n    if (phase1Container && phase2Container) {\n      // Hide Phase 1\n      phase1Container.classList.add('hidden');\n      \n      // Show Phase 2\n      phase2Container.classList.remove('hidden');\n      \n      // Update display pincode\n      const displayPincode = document.getElementById('display-pincode');\n      if (displayPincode) {\n        displayPincode.textContent = pincode;\n      }\n      \n      // Update results count\n      const resultsCount = document.getElementById('results-count');\n      if (resultsCount) {\n        resultsCount.textContent = hospitals.length;\n      }\n      \n      // Initialize map and render results\n      setTimeout(() => {\n        initializeMap(hospitals);\n        renderHospitalsList(hospitals);\n      }, 100);\n      \n      setCurrentPhase(2);\n    }\n  };\n\n  const handleBackToPhase1 = () => {\n    const phase1Container = document.getElementById('phase1-container');\n    const phase2Container = document.getElementById('phase2-container');\n    \n    if (phase1Container && phase2Container) {\n      // Show Phase 1\n      phase1Container.classList.remove('hidden');\n      \n      // Hide Phase 2\n      phase2Container.classList.add('hidden');\n      \n      // Clean up map\n      if (map) {\n        map.remove();\n        setMap(null);\n      }\n      \n      setCurrentPhase(1);\n    }\n  };\n\n  const initializeMap = (hospitals) => {\n    const mapContainer = document.getElementById('care-map');\n    if (!mapContainer || !window.L) return;\n\n    // Determine center point (use first hospital or default to city center)\n    let centerLat = 17.4274; // Default to Hyderabad\n    let centerLng = 78.4311;\n    \n    if (hospitals.length > 0 && hospitals[0].latitude && hospitals[0].longitude) {\n      centerLat = hospitals[0].latitude;\n      centerLng = hospitals[0].longitude;\n    } else {\n      // Determine center based on pincode\n      if (pincode.startsWith('56')) {\n        centerLat = 12.9716; // Bangalore\n        centerLng = 77.5946;\n      } else if (pincode.startsWith('6')) {\n        centerLat = 13.0827; // Chennai\n        centerLng = 80.2707;\n      }\n    }\n\n    // Initialize map\n    const newMap = window.L.map('care-map').setView([centerLat, centerLng], 12);\n    \n    // Add tile layer\n    window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '© OpenStreetMap contributors'\n    }).addTo(newMap);\n\n    // Add hospital markers\n    const newMarkers = [];\n    hospitals.forEach((hospital, index) => {\n      if (hospital.latitude && hospital.longitude) {\n        // Determine marker color based on hospital type\n        let markerColor = '#ef4444'; // Red for private\n        if (hospital.isGovernment || hospital.category?.toLowerCase().includes('government')) {\n          markerColor = '#3b82f6'; // Blue for government\n        }\n        if (hospital.category?.toLowerCase().includes('ayush')) {\n          markerColor = '#10b981'; // Green for AYUSH\n        }\n\n        // Create custom marker\n        const marker = window.L.circleMarker([hospital.latitude, hospital.longitude], {\n          radius: 8,\n          fillColor: markerColor,\n          color: '#ffffff',\n          weight: 2,\n          opacity: 1,\n          fillOpacity: 0.8\n        }).addTo(newMap);\n\n        // Add popup\n        const popupContent = `\n          <div class=\"p-2\">\n            <h3 class=\"font-bold text-sm mb-1\">${hospital.name}</h3>\n            <p class=\"text-xs text-gray-600 mb-1\">${hospital.address}</p>\n            <p class=\"text-xs font-medium\">${hospital.category || 'Hospital'}</p>\n            ${hospital.phone ? `<p class=\"text-xs mt-1\"><a href=\"tel:${hospital.phone}\" class=\"text-blue-600\">${hospital.phone}</a></p>` : ''}\n          </div>\n        `;\n        \n        marker.bindPopup(popupContent);\n        \n        // Add click handler to highlight corresponding list item\n        marker.on('click', () => {\n          highlightHospitalCard(index);\n        });\n\n        newMarkers.push(marker);\n      }\n    });\n\n    setMap(newMap);\n    setMarkers(newMarkers);\n\n    // Fit map to show all markers\n    if (newMarkers.length > 0) {\n      const group = new window.L.featureGroup(newMarkers);\n      newMap.fitBounds(group.getBounds().pad(0.1));\n    }\n  };\n\n  const highlightHospitalCard = (index) => {\n    // Remove previous highlights\n    document.querySelectorAll('.hospital-card').forEach(card => {\n      card.classList.remove('ring-2', 'ring-primary');\n    });\n\n    // Highlight selected card\n    const card = document.querySelector(`[data-hospital-index=\"${index}\"]`);\n    if (card) {\n      card.classList.add('ring-2', 'ring-primary');\n      card.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    }\n  };\n\n  const renderHospitalsList = (hospitals) => {\n    const resultsList = document.getElementById('results-list');\n    if (!resultsList) return;\n\n    resultsList.innerHTML = hospitals.map((hospital, index) => `\n      <div class=\"hospital-card bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all cursor-pointer\" \n           data-hospital-index=\"${index}\"\n           onclick=\"handleHospitalCardClick(${index})\">\n        \n        <div class=\"flex items-start gap-3 mb-3\">\n          <div class=\"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${getHospitalTypeColor(hospital)}\">\n            <span class=\"material-symbols-outlined text-white text-lg\">local_hospital</span>\n          </div>\n          <div class=\"flex-1 min-w-0\">\n            <h3 class=\"font-bold text-slate-900 dark:text-white text-sm mb-1 truncate\">${hospital.name}</h3>\n            <p class=\"text-xs text-slate-500 dark:text-slate-400\">${hospital.category || 'Hospital'}</p>\n          </div>\n          ${hospital.emergencyAvailable ? `\n            <div class=\"flex-shrink-0\">\n              <span class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n                24/7\n              </span>\n            </div>\n          ` : ''}\n        </div>\n\n        <div class=\"space-y-2 text-xs\">\n          <div class=\"flex items-center gap-2 text-slate-600 dark:text-slate-400\">\n            <span class=\"material-symbols-outlined text-sm\">location_on</span>\n            <span class=\"truncate\">${hospital.address}</span>\n          </div>\n          \n          ${hospital.phone ? `\n            <div class=\"flex items-center gap-2\">\n              <span class=\"material-symbols-outlined text-sm text-primary\">call</span>\n              <a href=\"tel:${hospital.phone}\" class=\"text-primary hover:text-primary-dark font-medium\">${hospital.phone}</a>\n            </div>\n          ` : ''}\n          \n          ${hospital.distance ? `\n            <div class=\"flex items-center gap-2 text-slate-600 dark:text-slate-400\">\n              <span class=\"material-symbols-outlined text-sm\">route</span>\n              <span>${hospital.distance}</span>\n            </div>\n          ` : ''}\n        </div>\n\n        ${hospital.specialties && hospital.specialties.length > 0 ? `\n          <div class=\"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700\">\n            <div class=\"flex flex-wrap gap-1\">\n              ${hospital.specialties.slice(0, 2).map(specialty => `\n                <span class=\"inline-block px-2 py-1 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300\">\n                  ${specialty.trim()}\n                </span>\n              `).join('')}\n              ${hospital.specialties.length > 2 ? `\n                <span class=\"inline-block px-2 py-1 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400\">\n                  +${hospital.specialties.length - 2}\n                </span>\n              ` : ''}\n            </div>\n          </div>\n        ` : ''}\n\n        <div class=\"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between\">\n          <div class=\"flex items-center gap-1 text-xs\">\n            <span class=\"material-symbols-outlined text-sm ${hospital.cost === 'Free/Subsidized' ? 'text-green-600' : 'text-orange-500'}\">\n              ${hospital.cost === 'Free/Subsidized' ? 'currency_rupee' : 'paid'}\n            </span>\n            <span class=\"font-medium text-slate-700 dark:text-slate-300\">${hospital.cost || 'Contact for pricing'}</span>\n          </div>\n          \n          <button class=\"text-xs text-primary hover:text-primary-dark font-medium\">\n            View on Map\n          </button>\n        </div>\n      </div>\n    `).join('');\n\n    // Add global click handler for hospital cards\n    window.handleHospitalCardClick = (index) => {\n      if (markers[index]) {\n        markers[index].fire('click');\n        // Center map on selected marker\n        if (map && hospitals[index].latitude && hospitals[index].longitude) {\n          map.setView([hospitals[index].latitude, hospitals[index].longitude], 15);\n        }\n      }\n    };\n  };\n\n  const getHospitalTypeColor = (hospital) => {\n    if (hospital.isGovernment || hospital.category?.toLowerCase().includes('government')) {\n      return 'bg-blue-500'; // Government\n    }\n    if (hospital.category?.toLowerCase().includes('ayush')) {\n      return 'bg-green-500'; // AYUSH\n    }\n    return 'bg-red-500'; // Private\n  };\n\n  const handleFilterToggle = (e) => {\n    const filterType = e.target.id.replace('filter-', '');\n    \n    // Toggle active state\n    e.target.classList.toggle('opacity-50');\n    \n    // Filter hospitals based on active filters\n    const activeFilters = [];\n    document.querySelectorAll('[id^=\"filter-\"]').forEach(btn => {\n      if (!btn.classList.contains('opacity-50')) {\n        activeFilters.push(btn.id.replace('filter-', ''));\n      }\n    });\n\n    // Apply filters to map markers and list\n    filterHospitals(activeFilters);\n  };\n\n  const filterHospitals = (activeFilters) => {\n    if (activeFilters.length === 0) {\n      // Show all hospitals\n      markers.forEach(marker => marker.addTo(map));\n      document.querySelectorAll('.hospital-card').forEach(card => {\n        card.style.display = 'block';\n      });\n      return;\n    }\n\n    recommendations.forEach((hospital, index) => {\n      let shouldShow = false;\n      \n      activeFilters.forEach(filter => {\n        if (filter === 'sarkari' && (hospital.isGovernment || hospital.category?.toLowerCase().includes('government'))) {\n          shouldShow = true;\n        }\n        if (filter === 'private' && !hospital.isGovernment && !hospital.category?.toLowerCase().includes('ayush')) {\n          shouldShow = true;\n        }\n        if (filter === 'ayush' && hospital.category?.toLowerCase().includes('ayush')) {\n          shouldShow = true;\n        }\n      });\n\n      // Show/hide marker\n      if (markers[index]) {\n        if (shouldShow) {\n          markers[index].addTo(map);\n        } else {\n          map.removeLayer(markers[index]);\n        }\n      }\n\n      // Show/hide list item\n      const card = document.querySelector(`[data-hospital-index=\"${index}\"]`);\n      if (card) {\n        card.style.display = shouldShow ? 'block' : 'none';\n      }\n    });\n  };\n\n  return null; // This component manages the existing HTML structure\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}